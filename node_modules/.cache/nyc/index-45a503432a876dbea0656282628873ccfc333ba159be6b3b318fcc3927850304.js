function cov_12k9bjpt2s(){var path="C:\\Users\\anuta\\WebstormProjects\\tododo\\index.js";var hash="277e5d3a098a3c05c85d9763c82f79193028e163";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\anuta\\WebstormProjects\\tododo\\index.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:35}},"1":{start:{line:2,column:19},end:{line:2,column:41}},"2":{start:{line:3,column:16},end:{line:3,column:42}},"3":{start:{line:4,column:19},end:{line:4,column:52}},"4":{start:{line:5,column:12},end:{line:5,column:21}},"5":{start:{line:6,column:0},end:{line:6,column:51}},"6":{start:{line:7,column:0},end:{line:7,column:26}},"7":{start:{line:8,column:0},end:{line:8,column:34}},"8":{start:{line:9,column:25},end:{line:9,column:65}},"9":{start:{line:10,column:13},end:{line:10,column:30}},"10":{start:{line:11,column:0},end:{line:11,column:17}},"11":{start:{line:12,column:13},end:{line:12,column:33}},"12":{start:{line:14,column:11},end:{line:14,column:35}},"13":{start:{line:15,column:0},end:{line:18,column:2}},"14":{start:{line:17,column:4},end:{line:17,column:44}},"15":{start:{line:20,column:0},end:{line:20,column:20}},"16":{start:{line:22,column:20},end:{line:22,column:50}},"17":{start:{line:24,column:12},end:{line:24,column:98}},"18":{start:{line:26,column:0},end:{line:37,column:2}},"19":{start:{line:39,column:0},end:{line:43,column:1}},"20":{start:{line:40,column:13},end:{line:40,column:32}},"21":{start:{line:41,column:4},end:{line:42,column:21}},"22":{start:{line:41,column:38},end:{line:41,column:51}},"23":{start:{line:42,column:9},end:{line:42,column:21}},"24":{start:{line:46,column:18},end:{line:46,column:63}},"25":{start:{line:47,column:16},end:{line:47,column:54}},"26":{start:{line:48,column:4},end:{line:67,column:7}},"27":{start:{line:49,column:8},end:{line:66,column:11}},"28":{start:{line:50,column:12},end:{line:65,column:13}},"29":{start:{line:51,column:16},end:{line:51,column:64}},"30":{start:{line:52,column:16},end:{line:52,column:39}},"31":{start:{line:54,column:17},end:{line:65,column:13}},"32":{start:{line:55,column:16},end:{line:55,column:61}},"33":{start:{line:56,column:16},end:{line:56,column:39}},"34":{start:{line:58,column:17},end:{line:65,column:13}},"35":{start:{line:59,column:16},end:{line:59,column:44}},"36":{start:{line:60,column:16},end:{line:60,column:39}},"37":{start:{line:63,column:16},end:{line:63,column:157}},"38":{start:{line:64,column:16},end:{line:64,column:55}},"39":{start:{line:69,column:0},end:{line:69,column:47}},"40":{start:{line:73,column:4},end:{line:91,column:7}},"41":{start:{line:74,column:8},end:{line:90,column:11}},"42":{start:{line:75,column:12},end:{line:89,column:13}},"43":{start:{line:76,column:16},end:{line:84,column:17}},"44":{start:{line:77,column:20},end:{line:77,column:50}},"45":{start:{line:78,column:20},end:{line:78,column:58}},"46":{start:{line:79,column:20},end:{line:79,column:43}},"47":{start:{line:82,column:20},end:{line:82,column:51}},"48":{start:{line:83,column:20},end:{line:83,column:37}},"49":{start:{line:87,column:16},end:{line:87,column:81}},"50":{start:{line:88,column:16},end:{line:88,column:33}},"51":{start:{line:93,column:0},end:{line:93,column:47}},"52":{start:{line:97,column:4},end:{line:97,column:34}},"53":{start:{line:98,column:4},end:{line:98,column:32}},"54":{start:{line:99,column:4},end:{line:99,column:21}},"55":{start:{line:101,column:0},end:{line:101,column:30}},"56":{start:{line:106,column:4},end:{line:106,column:43}},"57":{start:{line:108,column:0},end:{line:108,column:22}},"58":{start:{line:112,column:4},end:{line:112,column:43}},"59":{start:{line:114,column:0},end:{line:114,column:28}},"60":{start:{line:118,column:4},end:{line:118,column:44}},"61":{start:{line:120,column:0},end:{line:120,column:29}},"62":{start:{line:124,column:4},end:{line:128,column:25}},"63":{start:{line:125,column:8},end:{line:125,column:46}},"64":{start:{line:128,column:8},end:{line:128,column:25}},"65":{start:{line:130,column:0},end:{line:130,column:31}},"66":{start:{line:135,column:0},end:{line:145,column:1}},"67":{start:{line:136,column:4},end:{line:144,column:7}},"68":{start:{line:137,column:8},end:{line:143,column:11}},"69":{start:{line:138,column:12},end:{line:142,column:15}},"70":{start:{line:139,column:16},end:{line:139,column:29}},"71":{start:{line:140,column:16},end:{line:140,column:46}},"72":{start:{line:141,column:16},end:{line:141,column:32}},"73":{start:{line:147,column:0},end:{line:157,column:1}},"74":{start:{line:148,column:4},end:{line:156,column:7}},"75":{start:{line:149,column:8},end:{line:155,column:11}},"76":{start:{line:150,column:12},end:{line:154,column:15}},"77":{start:{line:151,column:16},end:{line:151,column:44}},"78":{start:{line:152,column:16},end:{line:152,column:36}},"79":{start:{line:153,column:16},end:{line:153,column:33}},"80":{start:{line:160,column:4},end:{line:168,column:7}},"81":{start:{line:161,column:8},end:{line:167,column:10}},"82":{start:{line:171,column:8},end:{line:171,column:72}},"83":{start:{line:172,column:8},end:{line:172,column:76}},"84":{start:{line:173,column:8},end:{line:173,column:24}},"85":{start:{line:177,column:8},end:{line:180,column:11}},"86":{start:{line:178,column:12},end:{line:179,column:79}},"87":{start:{line:183,column:4},end:{line:183,column:22}},"88":{start:{line:185,column:4},end:{line:185,column:26}},"89":{start:{line:187,column:0},end:{line:187,column:44}},"90":{start:{line:191,column:4},end:{line:191,column:35}},"91":{start:{line:193,column:0},end:{line:193,column:36}},"92":{start:{line:196,column:0},end:{line:196,column:39}},"93":{start:{line:199,column:4},end:{line:201,column:25}},"94":{start:{line:200,column:8},end:{line:200,column:39}},"95":{start:{line:201,column:9},end:{line:201,column:25}},"96":{start:{line:202,column:15},end:{line:202,column:17}},"97":{start:{line:203,column:4},end:{line:221,column:7}},"98":{start:{line:204,column:8},end:{line:220,column:11}},"99":{start:{line:205,column:12},end:{line:215,column:13}},"100":{start:{line:205,column:25},end:{line:205,column:26}},"101":{start:{line:206,column:16},end:{line:214,column:19}},"102":{start:{line:207,column:20},end:{line:213,column:23}},"103":{start:{line:216,column:12},end:{line:219,column:21}},"104":{start:{line:217,column:16},end:{line:217,column:50}},"105":{start:{line:218,column:16},end:{line:218,column:50}},"106":{start:{line:223,column:0},end:{line:223,column:31}},"107":{start:{line:227,column:13},end:{line:227,column:24}},"108":{start:{line:228,column:4},end:{line:232,column:7}},"109":{start:{line:229,column:8},end:{line:230,column:79}},"110":{start:{line:231,column:8},end:{line:231,column:81}},"111":{start:{line:234,column:0},end:{line:234,column:32}},"112":{start:{line:238,column:13},end:{line:238,column:24}},"113":{start:{line:239,column:4},end:{line:243,column:7}},"114":{start:{line:240,column:8},end:{line:241,column:61}},"115":{start:{line:242,column:8},end:{line:242,column:31}},"116":{start:{line:245,column:0},end:{line:245,column:28}},"117":{start:{line:249,column:13},end:{line:249,column:24}},"118":{start:{line:250,column:4},end:{line:253,column:7}},"119":{start:{line:251,column:7},end:{line:252,column:63}},"120":{start:{line:255,column:0},end:{line:255,column:32}},"121":{start:{line:257,column:0},end:{line:257,column:194}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:15,column:36},end:{line:15,column:37}},loc:{start:{line:15,column:42},end:{line:18,column:1}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:39,column:14},end:{line:39,column:15}},loc:{start:{line:39,column:38},end:{line:43,column:1}},line:39},"2":{name:"postRegist",decl:{start:{line:45,column:9},end:{line:45,column:19}},loc:{start:{line:45,column:31},end:{line:68,column:1}},line:45},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:29},end:{line:48,column:30}},loc:{start:{line:48,column:52},end:{line:67,column:5}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:80},end:{line:49,column:81}},loc:{start:{line:49,column:100},end:{line:66,column:9}},line:49},"5":{name:"postLogin",decl:{start:{line:72,column:9},end:{line:72,column:18}},loc:{start:{line:72,column:30},end:{line:92,column:1}},line:72},"6":{name:"(anonymous_6)",decl:{start:{line:73,column:29},end:{line:73,column:30}},loc:{start:{line:73,column:52},end:{line:91,column:5}},line:73},"7":{name:"(anonymous_7)",decl:{start:{line:74,column:81},end:{line:74,column:82}},loc:{start:{line:74,column:101},end:{line:90,column:9}},line:74},"8":{name:"getLogout",decl:{start:{line:96,column:9},end:{line:96,column:18}},loc:{start:{line:96,column:30},end:{line:100,column:1}},line:96},"9":{name:"getMain",decl:{start:{line:104,column:9},end:{line:104,column:16}},loc:{start:{line:104,column:28},end:{line:107,column:1}},line:104},"10":{name:"getLogin",decl:{start:{line:111,column:9},end:{line:111,column:17}},loc:{start:{line:111,column:29},end:{line:113,column:1}},line:111},"11":{name:"getRegist",decl:{start:{line:117,column:9},end:{line:117,column:18}},loc:{start:{line:117,column:30},end:{line:119,column:1}},line:117},"12":{name:"getTasksPage",decl:{start:{line:123,column:9},end:{line:123,column:21}},loc:{start:{line:123,column:33},end:{line:129,column:1}},line:123},"13":{name:"(anonymous_13)",decl:{start:{line:135,column:18},end:{line:135,column:19}},loc:{start:{line:135,column:31},end:{line:145,column:1}},line:135},"14":{name:"(anonymous_14)",decl:{start:{line:136,column:23},end:{line:136,column:24}},loc:{start:{line:136,column:50},end:{line:144,column:5}},line:136},"15":{name:"(anonymous_15)",decl:{start:{line:137,column:33},end:{line:137,column:34}},loc:{start:{line:137,column:62},end:{line:143,column:9}},line:137},"16":{name:"(anonymous_16)",decl:{start:{line:138,column:94},end:{line:138,column:95}},loc:{start:{line:138,column:103},end:{line:142,column:13}},line:138},"17":{name:"(anonymous_17)",decl:{start:{line:147,column:14},end:{line:147,column:15}},loc:{start:{line:147,column:37},end:{line:157,column:1}},line:147},"18":{name:"(anonymous_18)",decl:{start:{line:148,column:23},end:{line:148,column:24}},loc:{start:{line:148,column:50},end:{line:156,column:5}},line:148},"19":{name:"(anonymous_19)",decl:{start:{line:149,column:33},end:{line:149,column:34}},loc:{start:{line:149,column:62},end:{line:155,column:9}},line:149},"20":{name:"(anonymous_20)",decl:{start:{line:150,column:105},end:{line:150,column:106}},loc:{start:{line:150,column:114},end:{line:154,column:13}},line:150},"21":{name:"postAdd",decl:{start:{line:159,column:9},end:{line:159,column:16}},loc:{start:{line:159,column:28},end:{line:186,column:1}},line:159},"22":{name:"(anonymous_22)",decl:{start:{line:160,column:29},end:{line:160,column:30}},loc:{start:{line:160,column:52},end:{line:168,column:5}},line:160},"23":{name:"add_to_list",decl:{start:{line:170,column:19},end:{line:170,column:30}},loc:{start:{line:170,column:41},end:{line:174,column:5}},line:170},"24":{name:"find_",decl:{start:{line:176,column:13},end:{line:176,column:18}},loc:{start:{line:176,column:28},end:{line:181,column:5}},line:176},"25":{name:"(anonymous_25)",decl:{start:{line:177,column:33},end:{line:177,column:34}},loc:{start:{line:177,column:56},end:{line:180,column:9}},line:177},"26":{name:"getUsername",decl:{start:{line:190,column:9},end:{line:190,column:20}},loc:{start:{line:190,column:31},end:{line:192,column:1}},line:190},"27":{name:"getTasks",decl:{start:{line:198,column:9},end:{line:198,column:17}},loc:{start:{line:198,column:27},end:{line:222,column:1}},line:198},"28":{name:"(anonymous_28)",decl:{start:{line:203,column:29},end:{line:203,column:30}},loc:{start:{line:203,column:58},end:{line:221,column:5}},line:203},"29":{name:"(anonymous_29)",decl:{start:{line:204,column:75},end:{line:204,column:76}},loc:{start:{line:204,column:104},end:{line:220,column:9}},line:204},"30":{name:"(anonymous_30)",decl:{start:{line:206,column:54},end:{line:206,column:55}},loc:{start:{line:206,column:68},end:{line:214,column:17}},line:206},"31":{name:"(anonymous_31)",decl:{start:{line:216,column:23},end:{line:216,column:24}},loc:{start:{line:216,column:34},end:{line:219,column:13}},line:216},"32":{name:"postDelete",decl:{start:{line:226,column:9},end:{line:226,column:19}},loc:{start:{line:226,column:30},end:{line:233,column:1}},line:226},"33":{name:"(anonymous_33)",decl:{start:{line:228,column:29},end:{line:228,column:30}},loc:{start:{line:228,column:52},end:{line:232,column:5}},line:228},"34":{name:"postDone",decl:{start:{line:237,column:9},end:{line:237,column:17}},loc:{start:{line:237,column:29},end:{line:244,column:1}},line:237},"35":{name:"(anonymous_35)",decl:{start:{line:239,column:29},end:{line:239,column:30}},loc:{start:{line:239,column:58},end:{line:243,column:5}},line:239},"36":{name:"postUndone",decl:{start:{line:248,column:9},end:{line:248,column:19}},loc:{start:{line:248,column:30},end:{line:254,column:1}},line:248},"37":{name:"(anonymous_37)",decl:{start:{line:250,column:29},end:{line:250,column:30}},loc:{start:{line:250,column:58},end:{line:253,column:5}},line:250}},branchMap:{"0":{loc:{start:{line:14,column:11},end:{line:14,column:35}},type:"binary-expr",locations:[{start:{line:14,column:11},end:{line:14,column:27}},{start:{line:14,column:31},end:{line:14,column:35}}],line:14},"1":{loc:{start:{line:15,column:11},end:{line:15,column:34}},type:"binary-expr",locations:[{start:{line:15,column:11},end:{line:15,column:27}},{start:{line:15,column:30},end:{line:15,column:34}}],line:15},"2":{loc:{start:{line:24,column:12},end:{line:24,column:98}},type:"binary-expr",locations:[{start:{line:24,column:12},end:{line:24,column:35}},{start:{line:24,column:39},end:{line:24,column:98}}],line:24},"3":{loc:{start:{line:28,column:32},end:{line:28,column:118}},type:"binary-expr",locations:[{start:{line:28,column:32},end:{line:28,column:55}},{start:{line:28,column:59},end:{line:28,column:118}}],line:28},"4":{loc:{start:{line:41,column:4},end:{line:42,column:21}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:21}},{start:{line:41,column:4},end:{line:42,column:21}}],line:41},"5":{loc:{start:{line:41,column:8},end:{line:41,column:36}},type:"binary-expr",locations:[{start:{line:41,column:9},end:{line:41,column:17}},{start:{line:41,column:21},end:{line:41,column:35}}],line:41},"6":{loc:{start:{line:50,column:12},end:{line:65,column:13}},type:"if",locations:[{start:{line:50,column:12},end:{line:65,column:13}},{start:{line:50,column:12},end:{line:65,column:13}}],line:50},"7":{loc:{start:{line:54,column:17},end:{line:65,column:13}},type:"if",locations:[{start:{line:54,column:17},end:{line:65,column:13}},{start:{line:54,column:17},end:{line:65,column:13}}],line:54},"8":{loc:{start:{line:58,column:17},end:{line:65,column:13}},type:"if",locations:[{start:{line:58,column:17},end:{line:65,column:13}},{start:{line:58,column:17},end:{line:65,column:13}}],line:58},"9":{loc:{start:{line:75,column:12},end:{line:89,column:13}},type:"if",locations:[{start:{line:75,column:12},end:{line:89,column:13}},{start:{line:75,column:12},end:{line:89,column:13}}],line:75},"10":{loc:{start:{line:76,column:16},end:{line:84,column:17}},type:"if",locations:[{start:{line:76,column:16},end:{line:84,column:17}},{start:{line:76,column:16},end:{line:84,column:17}}],line:76},"11":{loc:{start:{line:124,column:4},end:{line:128,column:25}},type:"if",locations:[{start:{line:124,column:4},end:{line:128,column:25}},{start:{line:124,column:4},end:{line:128,column:25}}],line:124},"12":{loc:{start:{line:199,column:4},end:{line:201,column:25}},type:"if",locations:[{start:{line:199,column:4},end:{line:201,column:25}},{start:{line:199,column:4},end:{line:201,column:25}}],line:199}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"277e5d3a098a3c05c85d9763c82f79193028e163"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_12k9bjpt2s=function(){return actualCoverage;};return actualCoverage;}cov_12k9bjpt2s();const express=(cov_12k9bjpt2s().s[0]++,require('express'));const bodyParser=(cov_12k9bjpt2s().s[1]++,require('body-parser'));const session=(cov_12k9bjpt2s().s[2]++,require('express-session'));const MongoStore=(cov_12k9bjpt2s().s[3]++,require('connect-mongo')(session));const app=(cov_12k9bjpt2s().s[4]++,express());cov_12k9bjpt2s().s[5]++;app.use(bodyParser.urlencoded({extended:false}));cov_12k9bjpt2s().s[6]++;app.use(bodyParser.json());cov_12k9bjpt2s().s[7]++;app.use(express.static(__dirname));const urlencodedParser=(cov_12k9bjpt2s().s[8]++,bodyParser.urlencoded({extended:false}));var helmet=(cov_12k9bjpt2s().s[9]++,require('helmet'));cov_12k9bjpt2s().s[10]++;app.use(helmet());var Crypto=(cov_12k9bjpt2s().s[11]++,require('crypto-js'));var port=(cov_12k9bjpt2s().s[12]++,(cov_12k9bjpt2s().b[0][0]++,process.env.PORT)||(cov_12k9bjpt2s().b[0][1]++,3000));cov_12k9bjpt2s().s[13]++;app.listen((cov_12k9bjpt2s().b[1][0]++,process.env.PORT)||(cov_12k9bjpt2s().b[1][1]++,port),()=>{cov_12k9bjpt2s().f[0]++;cov_12k9bjpt2s().s[14]++;console.log(`Listening on port ${port}`);});cov_12k9bjpt2s().s[15]++;module.exports=app;const mongoClient=(cov_12k9bjpt2s().s[16]++,require("mongodb").MongoClient);//const url = "mongodb://localhost:27017/";
const url=(cov_12k9bjpt2s().s[17]++,(cov_12k9bjpt2s().b[2][0]++,process.env.MONGODB_URI)||(cov_12k9bjpt2s().b[2][1]++,"mongodb://tododo:ToDoDo1st@ds135036.mlab.com:35036/tododo"));cov_12k9bjpt2s().s[18]++;app.use(session({secret:'mylittlesecret',store:new MongoStore({url:(cov_12k9bjpt2s().b[3][0]++,process.env.MONGODB_URI)||(cov_12k9bjpt2s().b[3][1]++,"mongodb://tododo:ToDoDo1st@ds135036.mlab.com:35036/tododo")}),cookie:{path:'/',httpOnly:true,maxAge:60*60*1000},resave:false,saveUninitialized:false}));cov_12k9bjpt2s().s[19]++;check_regex=function(regex,string){cov_12k9bjpt2s().f[1]++;let ch=(cov_12k9bjpt2s().s[20]++,string.match(regex));cov_12k9bjpt2s().s[21]++;if((cov_12k9bjpt2s().b[5][0]++,ch==null)||(cov_12k9bjpt2s().b[5][1]++,ch[0]!==string)){cov_12k9bjpt2s().b[4][0]++;cov_12k9bjpt2s().s[22]++;return false;}else{cov_12k9bjpt2s().b[4][1]++;cov_12k9bjpt2s().s[23]++;return true;}};function postRegist(req,res){cov_12k9bjpt2s().f[2]++;const regex=(cov_12k9bjpt2s().s[24]++,/^(?=.*[0-9])(?=.*[a-zA-Z])[a-zA-Z0-9]{6,16}/);let check=(cov_12k9bjpt2s().s[25]++,check_regex(regex,req.body.password1));cov_12k9bjpt2s().s[26]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[3]++;cov_12k9bjpt2s().s[27]++;client.db("tododo").collection("users").findOne({login:req.body.name},function(err,result){cov_12k9bjpt2s().f[4]++;cov_12k9bjpt2s().s[28]++;if(result){cov_12k9bjpt2s().b[6][0]++;cov_12k9bjpt2s().s[29]++;console.log("Имя пользователя уже используется");cov_12k9bjpt2s().s[30]++;res.redirect('/regist');}else{cov_12k9bjpt2s().b[6][1]++;cov_12k9bjpt2s().s[31]++;if(req.body.password1!=req.body.password2){cov_12k9bjpt2s().b[7][0]++;cov_12k9bjpt2s().s[32]++;console.log("Введенные пароли не совпадают!");cov_12k9bjpt2s().s[33]++;res.redirect('/regist');}else{cov_12k9bjpt2s().b[7][1]++;cov_12k9bjpt2s().s[34]++;if(!check){cov_12k9bjpt2s().b[8][0]++;cov_12k9bjpt2s().s[35]++;console.log("Слабый пароль");cov_12k9bjpt2s().s[36]++;res.redirect('/regist');}else{cov_12k9bjpt2s().b[8][1]++;cov_12k9bjpt2s().s[37]++;client.db("tododo").collection("users").insertOne({login:req.body.name,password:Crypto.SHA256(req.body.password1).toString(),tasks:[]});cov_12k9bjpt2s().s[38]++;res.sendFile(__dirname+'/autho.html');}}}});});};cov_12k9bjpt2s().s[39]++;app.post("/reg",urlencodedParser,postRegist);function postLogin(req,res){cov_12k9bjpt2s().f[5]++;cov_12k9bjpt2s().s[40]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[6]++;cov_12k9bjpt2s().s[41]++;client.db("tododo").collection("users").findOne({login:req.body.login},function(err,result){cov_12k9bjpt2s().f[7]++;cov_12k9bjpt2s().s[42]++;if(result){cov_12k9bjpt2s().b[9][0]++;cov_12k9bjpt2s().s[43]++;if(Crypto.SHA256(req.body.password).toString()===result.password){cov_12k9bjpt2s().b[10][0]++;cov_12k9bjpt2s().s[44]++;req.session.authorized=true;cov_12k9bjpt2s().s[45]++;req.session.username=req.body.login;cov_12k9bjpt2s().s[46]++;res.redirect('/tasks');}else{cov_12k9bjpt2s().b[10][1]++;cov_12k9bjpt2s().s[47]++;console.log('Неверный пароль');cov_12k9bjpt2s().s[48]++;res.redirect('/');}}else{cov_12k9bjpt2s().b[9][1]++;cov_12k9bjpt2s().s[49]++;res.send({message:'Пользователя с таким именем не существует'});cov_12k9bjpt2s().s[50]++;res.redirect('/');}});});};cov_12k9bjpt2s().s[51]++;app.post("/login",urlencodedParser,postLogin);function getLogout(req,res){cov_12k9bjpt2s().f[8]++;cov_12k9bjpt2s().s[52]++;delete req.session.authorized;cov_12k9bjpt2s().s[53]++;delete req.session.username;cov_12k9bjpt2s().s[54]++;res.redirect('/');};cov_12k9bjpt2s().s[55]++;app.get('/logout',getLogout);function getMain(req,res){cov_12k9bjpt2s().f[9]++;cov_12k9bjpt2s().s[56]++;// if (req.session.authorized) {res.sendFile(__dirname + '/main.html')}
res.sendFile(__dirname+'/autho.html');};cov_12k9bjpt2s().s[57]++;app.get('/',getMain);function getLogin(req,res){cov_12k9bjpt2s().f[10]++;cov_12k9bjpt2s().s[58]++;res.sendFile(__dirname+'/autho.html');};cov_12k9bjpt2s().s[59]++;app.get('/login',getLogin);function getRegist(req,res){cov_12k9bjpt2s().f[11]++;cov_12k9bjpt2s().s[60]++;res.sendFile(__dirname+'/regist.html');};cov_12k9bjpt2s().s[61]++;app.get('/regist',getRegist);function getTasksPage(req,res){cov_12k9bjpt2s().f[12]++;cov_12k9bjpt2s().s[62]++;if(req.session.authorized){cov_12k9bjpt2s().b[11][0]++;cov_12k9bjpt2s().s[63]++;res.sendFile(__dirname+'/main.html');}else{cov_12k9bjpt2s().b[11][1]++;cov_12k9bjpt2s().s[64]++;res.redirect('/');}};cov_12k9bjpt2s().s[65]++;app.get('/tasks',getTasksPage);//some functions
cov_12k9bjpt2s().s[66]++;find_task_by_id=function(id){cov_12k9bjpt2s().f[13]++;cov_12k9bjpt2s().s[67]++;return new Promise(function(resolve,reject){cov_12k9bjpt2s().f[14]++;cov_12k9bjpt2s().s[68]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[15]++;cov_12k9bjpt2s().s[69]++;await client.db("tododo").collection("tasks").findOne({"_id":ObjectId(id)}).then(res=>{cov_12k9bjpt2s().f[16]++;cov_12k9bjpt2s().s[70]++;resolve(res);cov_12k9bjpt2s().s[71]++;console.log("and now res is ");cov_12k9bjpt2s().s[72]++;console.log(res);});});});};cov_12k9bjpt2s().s[73]++;get_task_id=function(name,author){cov_12k9bjpt2s().f[17]++;cov_12k9bjpt2s().s[74]++;return new Promise(function(resolve,reject){cov_12k9bjpt2s().f[18]++;cov_12k9bjpt2s().s[75]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[19]++;cov_12k9bjpt2s().s[76]++;await client.db("tododo").collection("tasks").findOne({"name":name,"author":author}).then(res=>{cov_12k9bjpt2s().f[20]++;cov_12k9bjpt2s().s[77]++;console.log("result id is ");cov_12k9bjpt2s().s[78]++;console.log(res._id);cov_12k9bjpt2s().s[79]++;resolve(res._id);});});});};function postAdd(req,res){cov_12k9bjpt2s().f[21]++;cov_12k9bjpt2s().s[80]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[22]++;cov_12k9bjpt2s().s[81]++;client.db("tododo").collection("tasks").insertOne({name:req.body.name,description:req.body.description,deadline:req.body.deadline,author:req.session.username,status:"active"});});async function add_to_list(callback){cov_12k9bjpt2s().f[23]++;cov_12k9bjpt2s().s[82]++;new_id=await get_task_id(req.body.name,req.session.username);cov_12k9bjpt2s().s[83]++;console.log("this function is add_to_list and it returned ",new_id);cov_12k9bjpt2s().s[84]++;callback(new_id);}function find_(some_id){cov_12k9bjpt2s().f[24]++;cov_12k9bjpt2s().s[85]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[25]++;cov_12k9bjpt2s().s[86]++;client.db("tododo").collection("users").findOneAndUpdate({"login":req.session.username},{$addToSet:{tasks:some_id}});});}cov_12k9bjpt2s().s[87]++;add_to_list(find_);cov_12k9bjpt2s().s[88]++;res.redirect('/tasks');};cov_12k9bjpt2s().s[89]++;app.post("/add",urlencodedParser,postAdd);function getUsername(req,res){cov_12k9bjpt2s().f[26]++;cov_12k9bjpt2s().s[90]++;res.send(req.session.username);};cov_12k9bjpt2s().s[91]++;app.get('/getusername',getUsername);cov_12k9bjpt2s().s[92]++;ObjectId=require("mongodb").ObjectID;function getTasks(req,res){cov_12k9bjpt2s().f[27]++;cov_12k9bjpt2s().s[93]++;if(req.session.authorized){cov_12k9bjpt2s().b[12][0]++;cov_12k9bjpt2s().s[94]++;username=req.session.username;}else{cov_12k9bjpt2s().b[12][1]++;cov_12k9bjpt2s().s[95]++;username="ann";}let tsks=(cov_12k9bjpt2s().s[96]++,[]);cov_12k9bjpt2s().s[97]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[28]++;cov_12k9bjpt2s().s[98]++;client.db("tododo").collection("users").findOne({login:username},async function(err,result){cov_12k9bjpt2s().f[29]++;cov_12k9bjpt2s().s[99]++;for(var i=(cov_12k9bjpt2s().s[100]++,0);i<result.tasks.length;++i){cov_12k9bjpt2s().s[101]++;find_task_by_id(result.tasks[i]).then(function(res){cov_12k9bjpt2s().f[30]++;cov_12k9bjpt2s().s[102]++;tsks.push({id:res._id,name:res.name,deadline:res.deadline,description:res.description,status:res.status});});}cov_12k9bjpt2s().s[103]++;setTimeout(function(){cov_12k9bjpt2s().f[31]++;cov_12k9bjpt2s().s[104]++;console.log(JSON.stringify(tsks));cov_12k9bjpt2s().s[105]++;res.status(200).send({data:tsks});},3000);});});};cov_12k9bjpt2s().s[106]++;app.get('/gettasks',getTasks);function postDelete(req,res){cov_12k9bjpt2s().f[32]++;let id=(cov_12k9bjpt2s().s[107]++,req.body.id);cov_12k9bjpt2s().s[108]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[33]++;cov_12k9bjpt2s().s[109]++;client.db("tododo").collection("users").findOneAndUpdate({"login":req.session.username},{$pull:{tasks:ObjectId(id)}});cov_12k9bjpt2s().s[110]++;client.db("tododo").collection("tasks").deleteOne({"_id":ObjectId(id)});});};cov_12k9bjpt2s().s[111]++;app.post('/delete',postDelete);function postDone(req,res){cov_12k9bjpt2s().f[34]++;let id=(cov_12k9bjpt2s().s[112]++,req.body.id);cov_12k9bjpt2s().s[113]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[35]++;cov_12k9bjpt2s().s[114]++;await client.db("tododo").collection("tasks").findOneAndUpdate({"_id":ObjectId(id)},{$set:{status:"done"}});cov_12k9bjpt2s().s[115]++;console.log("was done");});};cov_12k9bjpt2s().s[116]++;app.post('/done',postDone);function postUndone(req,res){cov_12k9bjpt2s().f[36]++;let id=(cov_12k9bjpt2s().s[117]++,req.body.id);cov_12k9bjpt2s().s[118]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[37]++;cov_12k9bjpt2s().s[119]++;await client.db("metodbase").collection("mero").findOneAndUpdate({"_id":ObjectId(id)},{$set:{status:"active"}});});};cov_12k9bjpt2s().s[120]++;app.post('/undone',postUndone);cov_12k9bjpt2s().s[121]++;module.exports={postRegist,postLogin,getLogout,getMain,getLogin,getRegist,getTasksPage,find_task_by_id,get_task_id,postAdd,getUsername,getTasks,postDelete,postDone,postUndone};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYm9keVBhcnNlciIsInNlc3Npb24iLCJNb25nb1N0b3JlIiwiYXBwIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsInN0YXRpYyIsIl9fZGlybmFtZSIsInVybGVuY29kZWRQYXJzZXIiLCJoZWxtZXQiLCJDcnlwdG8iLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vbmdvQ2xpZW50IiwiTW9uZ29DbGllbnQiLCJ1cmwiLCJNT05HT0RCX1VSSSIsInNlY3JldCIsInN0b3JlIiwiY29va2llIiwicGF0aCIsImh0dHBPbmx5IiwibWF4QWdlIiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJjaGVja19yZWdleCIsInJlZ2V4Iiwic3RyaW5nIiwiY2giLCJtYXRjaCIsInBvc3RSZWdpc3QiLCJyZXEiLCJyZXMiLCJjaGVjayIsImJvZHkiLCJwYXNzd29yZDEiLCJjb25uZWN0IiwiZXJyIiwiY2xpZW50IiwiZGIiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsImxvZ2luIiwibmFtZSIsInJlc3VsdCIsInJlZGlyZWN0IiwicGFzc3dvcmQyIiwiaW5zZXJ0T25lIiwicGFzc3dvcmQiLCJTSEEyNTYiLCJ0b1N0cmluZyIsInRhc2tzIiwic2VuZEZpbGUiLCJwb3N0IiwicG9zdExvZ2luIiwiYXV0aG9yaXplZCIsInVzZXJuYW1lIiwic2VuZCIsIm1lc3NhZ2UiLCJnZXRMb2dvdXQiLCJnZXQiLCJnZXRNYWluIiwiZ2V0TG9naW4iLCJnZXRSZWdpc3QiLCJnZXRUYXNrc1BhZ2UiLCJmaW5kX3Rhc2tfYnlfaWQiLCJpZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiT2JqZWN0SWQiLCJ0aGVuIiwiZ2V0X3Rhc2tfaWQiLCJhdXRob3IiLCJfaWQiLCJwb3N0QWRkIiwiZGVzY3JpcHRpb24iLCJkZWFkbGluZSIsInN0YXR1cyIsImFkZF90b19saXN0IiwiY2FsbGJhY2siLCJuZXdfaWQiLCJmaW5kXyIsInNvbWVfaWQiLCJmaW5kT25lQW5kVXBkYXRlIiwiJGFkZFRvU2V0IiwiZ2V0VXNlcm5hbWUiLCJPYmplY3RJRCIsImdldFRhc2tzIiwidHNrcyIsImkiLCJsZW5ndGgiLCJwdXNoIiwic2V0VGltZW91dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwicG9zdERlbGV0ZSIsIiRwdWxsIiwiZGVsZXRlT25lIiwicG9zdERvbmUiLCIkc2V0IiwicG9zdFVuZG9uZSJdLCJtYXBwaW5ncyI6IncyaEJBQUMsS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0QsS0FBTUMsQ0FBQUEsVUFBVSwwQkFBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBVixDQUFoQixDQUNBLEtBQU1FLENBQUFBLE9BQU8sMEJBQUdGLE9BQU8sQ0FBQyxpQkFBRCxDQUFWLENBQWIsQ0FDQSxLQUFNRyxDQUFBQSxVQUFVLDBCQUFHSCxPQUFPLENBQUMsZUFBRCxDQUFQLENBQXlCRSxPQUF6QixDQUFILENBQWhCLENBQ0EsS0FBTUUsQ0FBQUEsR0FBRywwQkFBR0wsT0FBTyxFQUFWLENBQVQsQyx3QkFDQUssR0FBRyxDQUFDQyxHQUFKLENBQVFKLFVBQVUsQ0FBQ0ssVUFBWCxDQUFzQixDQUFFQyxRQUFRLENBQUUsS0FBWixDQUF0QixDQUFSLEUsd0JBQ0FILEdBQUcsQ0FBQ0MsR0FBSixDQUFRSixVQUFVLENBQUNPLElBQVgsRUFBUixFLHdCQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUU4sT0FBTyxDQUFDVSxNQUFSLENBQWVDLFNBQWYsQ0FBUixFQUNBLEtBQU1DLENBQUFBLGdCQUFnQiwwQkFBR1YsVUFBVSxDQUFDSyxVQUFYLENBQXNCLENBQUNDLFFBQVEsQ0FBRSxLQUFYLENBQXRCLENBQUgsQ0FBdEIsQ0FDQSxHQUFJSyxDQUFBQSxNQUFNLDBCQUFHWixP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VCxDQUFvQnZFLEdBQXBCLENBQXlCQyxHQUF6QixDQUE4QiwwQkFDMUIsR0FBSWtDLENBQUFBLEVBQUUsNEJBQUduQyxHQUFHLENBQUNHLElBQUosQ0FBU2dDLEVBQVosQ0FBTixDQUQwQiwwQkFFMUJyRCxXQUFXLENBQUN1QixPQUFaLENBQW9CckIsR0FBcEIsQ0FBeUIsZUFBZ0JzQixHQUFoQixDQUFxQkMsTUFBckIsQ0FBNkIsb0RBQ25ELEtBQU1BLENBQUFBLE1BQU0sQ0FBQ0MsRUFBUCxDQUFVLFdBQVYsRUFBdUJDLFVBQXZCLENBQWtDLE1BQWxDLEVBQTBDNEMsZ0JBQTFDLENBQ0QsQ0FBQyxNQUFPZCxRQUFRLENBQUNKLEVBQUQsQ0FBaEIsQ0FEQyxDQUNzQixDQUFDbUMsSUFBSSxDQUFFLENBQUN2QixNQUFNLENBQUUsUUFBVCxDQUFQLENBRHRCLENBQU4sQ0FFRixDQUhELEVBSUgsRSwwQkFDRHBGLEdBQUcsQ0FBQzJELElBQUosQ0FBUyxTQUFULENBQW9CaUQsVUFBcEIsRSwwQkFFQTNGLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUFFa0IsVUFBRixDQUFjd0IsU0FBZCxDQUF5QkssU0FBekIsQ0FBb0NFLE9BQXBDLENBQTZDQyxRQUE3QyxDQUF1REMsU0FBdkQsQ0FBa0VDLFlBQWxFLENBQWdGQyxlQUFoRixDQUFpR08sV0FBakcsQ0FBOEdHLE9BQTlHLENBQXVIVyxXQUF2SCxDQUFvSUUsUUFBcEksQ0FBOElTLFVBQTlJLENBQTBKRyxRQUExSixDQUFvS0UsVUFBcEssQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyLvu79jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKVxuY29uc3Qgc2Vzc2lvbiA9IHJlcXVpcmUoJ2V4cHJlc3Mtc2Vzc2lvbicpXG5jb25zdCBNb25nb1N0b3JlID0gcmVxdWlyZSgnY29ubmVjdC1tb25nbycpKHNlc3Npb24pO1xuY29uc3QgYXBwID0gZXhwcmVzcygpXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSlcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKF9fZGlybmFtZSkpXG5jb25zdCB1cmxlbmNvZGVkUGFyc2VyID0gYm9keVBhcnNlci51cmxlbmNvZGVkKHtleHRlbmRlZDogZmFsc2V9KTtcbnZhciBoZWxtZXQgPSByZXF1aXJlKCdoZWxtZXQnKTtcbmFwcC51c2UoaGVsbWV0KCkpXG52YXIgQ3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvLWpzJylcblxudmFyIHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7XG5hcHAubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQgfHxwb3J0LCAoKSA9PiB7XG5cbiAgICBjb25zb2xlLmxvZyhgTGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fWApXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcFxuXG5jb25zdCBtb25nb0NsaWVudCA9IHJlcXVpcmUoXCJtb25nb2RiXCIpLk1vbmdvQ2xpZW50O1xuLy9jb25zdCB1cmwgPSBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvXCI7XG5jb25zdCB1cmwgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCBcIm1vbmdvZGI6Ly90b2RvZG86VG9Eb0RvMXN0QGRzMTM1MDM2Lm1sYWIuY29tOjM1MDM2L3RvZG9kb1wiO1xuXG5hcHAudXNlKHNlc3Npb24oe1xuICAgIHNlY3JldDogJ215bGl0dGxlc2VjcmV0JyxcbiAgICBzdG9yZTogbmV3IE1vbmdvU3RvcmUoe3VybDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgXCJtb25nb2RiOi8vdG9kb2RvOlRvRG9EbzFzdEBkczEzNTAzNi5tbGFiLmNvbTozNTAzNi90b2RvZG9cIn0pLFxuICAgIGNvb2tpZToge1xuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAxMDAwXG4gICAgfSxcbiAgICByZXNhdmU6IGZhbHNlLFxuICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZVxufSlcbik7XG5cbmNoZWNrX3JlZ2V4ID0gZnVuY3Rpb24gKHJlZ2V4LCBzdHJpbmcpe1xuICAgIGxldCBjaCA9IHN0cmluZy5tYXRjaChyZWdleCk7XG4gICAgaWYgKChjaD09bnVsbCl8fChjaFswXSE9PXN0cmluZykpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBwb3N0UmVnaXN0IChyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZ2V4ID0gL14oPz0uKlswLTldKSg/PS4qW2EtekEtWl0pW2EtekEtWjAtOV17NiwxNn0vO1xuICAgIGxldCBjaGVjayA9IGNoZWNrX3JlZ2V4KHJlZ2V4LCByZXEuYm9keS5wYXNzd29yZDEpXG4gICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICBjbGllbnQuZGIoXCJ0b2RvZG9cIikuY29sbGVjdGlvbihcInVzZXJzXCIpLmZpbmRPbmUoe2xvZ2luOiByZXEuYm9keS5uYW1lfSwgZnVuY3Rpb24oZXJyLHJlc3VsdCl7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLQmNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINGD0LbQtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y9cIilcbiAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy9yZWdpc3QnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVxLmJvZHkucGFzc3dvcmQxICE9IHJlcS5ib2R5LnBhc3N3b3JkMil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLQktCy0LXQtNC10L3QvdGL0LUg0L/QsNGA0L7Qu9C4INC90LUg0YHQvtCy0L/QsNC00LDRjtGCIVwiKVxuICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdCgnL3JlZ2lzdCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY2hlY2spIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcItCh0LvQsNCx0YvQuSDQv9Cw0YDQvtC70YxcIilcbiAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy9yZWdpc3QnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5pbnNlcnRPbmUoe2xvZ2luOiByZXEuYm9keS5uYW1lLCBwYXNzd29yZDogQ3J5cHRvLlNIQTI1NihyZXEuYm9keS5wYXNzd29yZDEpLnRvU3RyaW5nKCksIHRhc2tzOiBbXX0pO1xuICAgICAgICAgICAgICAgIHJlcy5zZW5kRmlsZShfX2Rpcm5hbWUgKyAnL2F1dGhvLmh0bWwnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5hcHAucG9zdChcIi9yZWdcIiwgdXJsZW5jb2RlZFBhcnNlciwgcG9zdFJlZ2lzdCk7XG5cblxuZnVuY3Rpb24gcG9zdExvZ2luIChyZXEsIHJlcykge1xuICAgIG1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICAgICAgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5maW5kT25lKHtsb2dpbjogcmVxLmJvZHkubG9naW59LCBmdW5jdGlvbihlcnIscmVzdWx0KXtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoQ3J5cHRvLlNIQTI1NihyZXEuYm9keS5wYXNzd29yZCkudG9TdHJpbmcoKSA9PT0gcmVzdWx0LnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGhvcml6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi51c2VybmFtZSA9IHJlcS5ib2R5LmxvZ2luO1xuICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy90YXNrcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9Cd0LXQstC10YDQvdGL0Lkg0L/QsNGA0L7Qu9GMJyk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdCgnLycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnNlbmQoe21lc3NhZ2U6ICfQn9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0YEg0YLQsNC60LjQvCDQuNC80LXQvdC10Lwg0L3QtSDRgdGD0YnQtdGB0YLQstGD0LXRgid9KTtcbiAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy8nKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5hcHAucG9zdChcIi9sb2dpblwiLCB1cmxlbmNvZGVkUGFyc2VyLCBwb3N0TG9naW4pXG5cblxuZnVuY3Rpb24gZ2V0TG9nb3V0IChyZXEsIHJlcykge1xuICAgIGRlbGV0ZSByZXEuc2Vzc2lvbi5hdXRob3JpemVkO1xuICAgIGRlbGV0ZSByZXEuc2Vzc2lvbi51c2VybmFtZTtcbiAgICByZXMucmVkaXJlY3QoJy8nKVxufTtcbmFwcC5nZXQoJy9sb2dvdXQnLCBnZXRMb2dvdXQpO1xuXG5cbmZ1bmN0aW9uIGdldE1haW4gKHJlcSwgcmVzKSB7XG4gICAgLy8gaWYgKHJlcS5zZXNzaW9uLmF1dGhvcml6ZWQpIHtyZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9tYWluLmh0bWwnKX1cbiAgICByZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9hdXRoby5odG1sJylcbn07XG5hcHAuZ2V0KCcvJywgZ2V0TWFpbik7XG5cblxuZnVuY3Rpb24gZ2V0TG9naW4gKHJlcSwgcmVzKSB7XG4gICAgcmVzLnNlbmRGaWxlKF9fZGlybmFtZSArICcvYXV0aG8uaHRtbCcpXG59O1xuYXBwLmdldCgnL2xvZ2luJywgZ2V0TG9naW4pO1xuXG5cbmZ1bmN0aW9uIGdldFJlZ2lzdCAocmVxLCByZXMpIHtcbiAgICByZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9yZWdpc3QuaHRtbCcpXG59O1xuYXBwLmdldCgnL3JlZ2lzdCcsIGdldFJlZ2lzdClcblxuXG5mdW5jdGlvbiBnZXRUYXNrc1BhZ2UgKHJlcSwgcmVzKSB7XG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGhvcml6ZWQpIHtcbiAgICAgICAgcmVzLnNlbmRGaWxlKF9fZGlybmFtZSArICcvbWFpbi5odG1sJylcbiAgICB9XG4gICAgZWxzZVxuICAgICAgICByZXMucmVkaXJlY3QoJy8nKVxufTtcbmFwcC5nZXQoJy90YXNrcycsIGdldFRhc2tzUGFnZSlcblxuXG4vL3NvbWUgZnVuY3Rpb25zXG5cbmZpbmRfdGFza19ieV9pZCA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGFzeW5jIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ0YXNrc1wiKS5maW5kT25lKHtcIl9pZFwiOiBPYmplY3RJZChpZCl9KS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhbmQgbm93IHJlcyBpcyBcIilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmdldF90YXNrX2lkID0gZnVuY3Rpb24obmFtZSwgYXV0aG9yKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGFzeW5jIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ0YXNrc1wiKS5maW5kT25lKHtcIm5hbWVcIjogbmFtZSwgXCJhdXRob3JcIjogYXV0aG9yfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXN1bHQgaWQgaXMgXCIpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLl9pZClcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBwb3N0QWRkIChyZXEsIHJlcykge1xuICAgIG1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICAgICAgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ0YXNrc1wiKS5pbnNlcnRPbmUoe1xuICAgICAgICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXEuYm9keS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGRlYWRsaW5lOiByZXEuYm9keS5kZWFkbGluZSxcbiAgICAgICAgICAgIGF1dGhvcjogcmVxLnNlc3Npb24udXNlcm5hbWUsXG4gICAgICAgICAgICBzdGF0dXM6IFwiYWN0aXZlXCJcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIGFkZF90b19saXN0KGNhbGxiYWNrKSB7XG4gICAgICAgIG5ld19pZCA9IGF3YWl0IGdldF90YXNrX2lkKHJlcS5ib2R5Lm5hbWUsIHJlcS5zZXNzaW9uLnVzZXJuYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGZ1bmN0aW9uIGlzIGFkZF90b19saXN0IGFuZCBpdCByZXR1cm5lZCBcIiwgbmV3X2lkKVxuICAgICAgICBjYWxsYmFjayhuZXdfaWQpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZF8oc29tZV9pZCkge1xuICAgICAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgICAgICBjbGllbnQuZGIoXCJ0b2RvZG9cIikuY29sbGVjdGlvbihcInVzZXJzXCIpLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAge1wibG9naW5cIjogcmVxLnNlc3Npb24udXNlcm5hbWV9LCB7JGFkZFRvU2V0OiB7dGFza3M6IHNvbWVfaWR9fSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkX3RvX2xpc3QoZmluZF8pXG5cbiAgICByZXMucmVkaXJlY3QoJy90YXNrcycpXG59O1xuYXBwLnBvc3QoXCIvYWRkXCIsIHVybGVuY29kZWRQYXJzZXIsIHBvc3RBZGQpO1xuXG5cbmZ1bmN0aW9uIGdldFVzZXJuYW1lKHJlcSwgcmVzKSB7XG4gICAgcmVzLnNlbmQocmVxLnNlc3Npb24udXNlcm5hbWUpO1xufTtcbmFwcC5nZXQoJy9nZXR1c2VybmFtZScsIGdldFVzZXJuYW1lKVxuXG5cbk9iamVjdElkID0gcmVxdWlyZShcIm1vbmdvZGJcIikuT2JqZWN0SUQ7XG5cbmZ1bmN0aW9uIGdldFRhc2tzKHJlcSwgcmVzKXtcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aG9yaXplZClcbiAgICAgICAgdXNlcm5hbWUgPSByZXEuc2Vzc2lvbi51c2VybmFtZVxuICAgIGVsc2UgdXNlcm5hbWUgPSBcImFublwiXG4gICAgbGV0IHRza3MgPSBbXTtcbiAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgYXN5bmMgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgIGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidXNlcnNcIikuZmluZE9uZSh7bG9naW46IHVzZXJuYW1lfSwgYXN5bmMgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC50YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbmRfdGFza19ieV9pZChyZXN1bHQudGFza3NbaV0pLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRza3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVzLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmU6IHJlcy5kZWFkbGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRza3MpKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7ZGF0YTogdHNrc30pXG4gICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuYXBwLmdldCgnL2dldHRhc2tzJywgZ2V0VGFza3MpO1xuXG5cbmZ1bmN0aW9uIHBvc3REZWxldGUocmVxLCByZXMpIHtcbiAgICBsZXQgaWQgPSByZXEuYm9keS5pZDtcbiAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgIGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidXNlcnNcIikuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgIHsgXCJsb2dpblwiIDogcmVxLnNlc3Npb24udXNlcm5hbWV9LHskcHVsbDogeyB0YXNrczogT2JqZWN0SWQoaWQpfX0pO1xuICAgICAgICBjbGllbnQuZGIoXCJ0b2RvZG9cIikuY29sbGVjdGlvbihcInRhc2tzXCIpLmRlbGV0ZU9uZSh7XCJfaWRcIjogT2JqZWN0SWQoaWQpfSk7XG4gICAgfSk7XG59O1xuYXBwLnBvc3QoJy9kZWxldGUnLCBwb3N0RGVsZXRlKTtcblxuXG5mdW5jdGlvbiBwb3N0RG9uZSAocmVxLCByZXMpIHtcbiAgICBsZXQgaWQgPSByZXEuYm9keS5pZDtcbiAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgYXN5bmMgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidGFza3NcIikuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgIHtcIl9pZFwiOiBPYmplY3RJZChpZCl9LCB7JHNldCA6e3N0YXR1czogXCJkb25lXCJ9fSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwid2FzIGRvbmVcIilcbiAgICB9KTtcbn07XG5hcHAucG9zdCgnL2RvbmUnLCBwb3N0RG9uZSk7XG5cblxuZnVuY3Rpb24gcG9zdFVuZG9uZShyZXEsIHJlcykge1xuICAgIGxldCBpZCA9IHJlcS5ib2R5LmlkO1xuICAgIG1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBhc3luYyBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICAgICBhd2FpdCBjbGllbnQuZGIoXCJtZXRvZGJhc2VcIikuY29sbGVjdGlvbihcIm1lcm9cIikuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgIHtcIl9pZFwiOiBPYmplY3RJZChpZCl9LCB7JHNldDoge3N0YXR1czogXCJhY3RpdmVcIn19KTtcbiAgICB9KTtcbn07XG5hcHAucG9zdCgnL3VuZG9uZScsIHBvc3RVbmRvbmUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgcG9zdFJlZ2lzdCwgcG9zdExvZ2luLCBnZXRMb2dvdXQsIGdldE1haW4sIGdldExvZ2luLCBnZXRSZWdpc3QsIGdldFRhc2tzUGFnZSwgZmluZF90YXNrX2J5X2lkLCBnZXRfdGFza19pZCwgcG9zdEFkZCwgZ2V0VXNlcm5hbWUsIGdldFRhc2tzLCBwb3N0RGVsZXRlLCBwb3N0RG9uZSwgcG9zdFVuZG9uZSB9O1xuIl19