function cov_12k9bjpt2s(){var path="C:\\Users\\anuta\\WebstormProjects\\tododo\\index.js";var hash="d35b3591bdc6f7a6e6105462a841e3a18bf6c1b7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\anuta\\WebstormProjects\\tododo\\index.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:35}},"1":{start:{line:2,column:19},end:{line:2,column:41}},"2":{start:{line:3,column:16},end:{line:3,column:42}},"3":{start:{line:4,column:19},end:{line:4,column:52}},"4":{start:{line:5,column:12},end:{line:5,column:21}},"5":{start:{line:6,column:0},end:{line:6,column:51}},"6":{start:{line:7,column:0},end:{line:7,column:26}},"7":{start:{line:8,column:0},end:{line:8,column:34}},"8":{start:{line:9,column:25},end:{line:9,column:65}},"9":{start:{line:10,column:13},end:{line:10,column:30}},"10":{start:{line:11,column:0},end:{line:11,column:17}},"11":{start:{line:12,column:13},end:{line:12,column:33}},"12":{start:{line:14,column:11},end:{line:14,column:35}},"13":{start:{line:15,column:0},end:{line:18,column:2}},"14":{start:{line:17,column:4},end:{line:17,column:44}},"15":{start:{line:20,column:0},end:{line:20,column:20}},"16":{start:{line:22,column:20},end:{line:22,column:50}},"17":{start:{line:24,column:12},end:{line:24,column:98}},"18":{start:{line:26,column:0},end:{line:37,column:2}},"19":{start:{line:39,column:0},end:{line:43,column:1}},"20":{start:{line:40,column:13},end:{line:40,column:32}},"21":{start:{line:41,column:4},end:{line:42,column:21}},"22":{start:{line:41,column:38},end:{line:41,column:51}},"23":{start:{line:42,column:9},end:{line:42,column:21}},"24":{start:{line:46,column:18},end:{line:46,column:63}},"25":{start:{line:47,column:16},end:{line:47,column:54}},"26":{start:{line:48,column:4},end:{line:67,column:7}},"27":{start:{line:49,column:8},end:{line:66,column:11}},"28":{start:{line:50,column:12},end:{line:65,column:13}},"29":{start:{line:51,column:16},end:{line:51,column:64}},"30":{start:{line:52,column:16},end:{line:52,column:39}},"31":{start:{line:54,column:17},end:{line:65,column:13}},"32":{start:{line:55,column:16},end:{line:55,column:61}},"33":{start:{line:56,column:16},end:{line:56,column:39}},"34":{start:{line:58,column:17},end:{line:65,column:13}},"35":{start:{line:59,column:16},end:{line:59,column:44}},"36":{start:{line:60,column:16},end:{line:60,column:39}},"37":{start:{line:63,column:16},end:{line:63,column:157}},"38":{start:{line:64,column:16},end:{line:64,column:55}},"39":{start:{line:69,column:0},end:{line:69,column:47}},"40":{start:{line:73,column:4},end:{line:91,column:7}},"41":{start:{line:74,column:8},end:{line:90,column:11}},"42":{start:{line:75,column:12},end:{line:89,column:13}},"43":{start:{line:76,column:16},end:{line:84,column:17}},"44":{start:{line:77,column:20},end:{line:77,column:50}},"45":{start:{line:78,column:20},end:{line:78,column:58}},"46":{start:{line:79,column:20},end:{line:79,column:43}},"47":{start:{line:82,column:20},end:{line:82,column:51}},"48":{start:{line:83,column:20},end:{line:83,column:42}},"49":{start:{line:87,column:16},end:{line:87,column:73}},"50":{start:{line:88,column:16},end:{line:88,column:45}},"51":{start:{line:93,column:0},end:{line:93,column:47}},"52":{start:{line:97,column:4},end:{line:97,column:34}},"53":{start:{line:98,column:4},end:{line:98,column:32}},"54":{start:{line:99,column:4},end:{line:99,column:21}},"55":{start:{line:101,column:0},end:{line:101,column:30}},"56":{start:{line:106,column:4},end:{line:106,column:43}},"57":{start:{line:108,column:0},end:{line:108,column:22}},"58":{start:{line:112,column:4},end:{line:112,column:43}},"59":{start:{line:114,column:0},end:{line:114,column:28}},"60":{start:{line:118,column:4},end:{line:118,column:44}},"61":{start:{line:120,column:0},end:{line:120,column:29}},"62":{start:{line:124,column:4},end:{line:128,column:25}},"63":{start:{line:125,column:8},end:{line:125,column:46}},"64":{start:{line:128,column:8},end:{line:128,column:25}},"65":{start:{line:130,column:0},end:{line:130,column:31}},"66":{start:{line:135,column:0},end:{line:145,column:1}},"67":{start:{line:136,column:4},end:{line:144,column:7}},"68":{start:{line:137,column:8},end:{line:143,column:11}},"69":{start:{line:138,column:12},end:{line:142,column:15}},"70":{start:{line:139,column:16},end:{line:139,column:29}},"71":{start:{line:140,column:16},end:{line:140,column:46}},"72":{start:{line:141,column:16},end:{line:141,column:32}},"73":{start:{line:147,column:0},end:{line:157,column:1}},"74":{start:{line:148,column:4},end:{line:156,column:7}},"75":{start:{line:149,column:8},end:{line:155,column:11}},"76":{start:{line:150,column:12},end:{line:154,column:15}},"77":{start:{line:151,column:16},end:{line:151,column:44}},"78":{start:{line:152,column:16},end:{line:152,column:36}},"79":{start:{line:153,column:16},end:{line:153,column:33}},"80":{start:{line:160,column:4},end:{line:168,column:7}},"81":{start:{line:161,column:8},end:{line:167,column:10}},"82":{start:{line:171,column:8},end:{line:171,column:72}},"83":{start:{line:172,column:8},end:{line:172,column:76}},"84":{start:{line:173,column:8},end:{line:173,column:24}},"85":{start:{line:177,column:8},end:{line:180,column:11}},"86":{start:{line:178,column:12},end:{line:179,column:79}},"87":{start:{line:183,column:4},end:{line:183,column:22}},"88":{start:{line:185,column:4},end:{line:185,column:26}},"89":{start:{line:187,column:0},end:{line:187,column:44}},"90":{start:{line:191,column:4},end:{line:191,column:35}},"91":{start:{line:193,column:0},end:{line:193,column:36}},"92":{start:{line:196,column:0},end:{line:196,column:39}},"93":{start:{line:199,column:4},end:{line:201,column:25}},"94":{start:{line:200,column:8},end:{line:200,column:39}},"95":{start:{line:201,column:9},end:{line:201,column:25}},"96":{start:{line:202,column:15},end:{line:202,column:17}},"97":{start:{line:203,column:4},end:{line:221,column:7}},"98":{start:{line:204,column:8},end:{line:220,column:11}},"99":{start:{line:205,column:12},end:{line:215,column:13}},"100":{start:{line:205,column:25},end:{line:205,column:26}},"101":{start:{line:206,column:16},end:{line:214,column:19}},"102":{start:{line:207,column:20},end:{line:213,column:23}},"103":{start:{line:216,column:12},end:{line:219,column:21}},"104":{start:{line:217,column:16},end:{line:217,column:50}},"105":{start:{line:218,column:16},end:{line:218,column:50}},"106":{start:{line:223,column:0},end:{line:223,column:31}},"107":{start:{line:227,column:13},end:{line:227,column:24}},"108":{start:{line:228,column:4},end:{line:232,column:7}},"109":{start:{line:229,column:8},end:{line:230,column:79}},"110":{start:{line:231,column:8},end:{line:231,column:81}},"111":{start:{line:234,column:0},end:{line:234,column:32}},"112":{start:{line:238,column:13},end:{line:238,column:24}},"113":{start:{line:239,column:4},end:{line:243,column:7}},"114":{start:{line:240,column:8},end:{line:241,column:61}},"115":{start:{line:242,column:8},end:{line:242,column:31}},"116":{start:{line:245,column:0},end:{line:245,column:28}},"117":{start:{line:249,column:13},end:{line:249,column:24}},"118":{start:{line:250,column:4},end:{line:253,column:7}},"119":{start:{line:251,column:7},end:{line:252,column:63}},"120":{start:{line:255,column:0},end:{line:255,column:32}},"121":{start:{line:257,column:0},end:{line:257,column:194}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:15,column:36},end:{line:15,column:37}},loc:{start:{line:15,column:42},end:{line:18,column:1}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:39,column:14},end:{line:39,column:15}},loc:{start:{line:39,column:38},end:{line:43,column:1}},line:39},"2":{name:"postRegist",decl:{start:{line:45,column:9},end:{line:45,column:19}},loc:{start:{line:45,column:31},end:{line:68,column:1}},line:45},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:29},end:{line:48,column:30}},loc:{start:{line:48,column:52},end:{line:67,column:5}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:80},end:{line:49,column:81}},loc:{start:{line:49,column:100},end:{line:66,column:9}},line:49},"5":{name:"postLogin",decl:{start:{line:72,column:9},end:{line:72,column:18}},loc:{start:{line:72,column:30},end:{line:92,column:1}},line:72},"6":{name:"(anonymous_6)",decl:{start:{line:73,column:29},end:{line:73,column:30}},loc:{start:{line:73,column:52},end:{line:91,column:5}},line:73},"7":{name:"(anonymous_7)",decl:{start:{line:74,column:81},end:{line:74,column:82}},loc:{start:{line:74,column:101},end:{line:90,column:9}},line:74},"8":{name:"getLogout",decl:{start:{line:96,column:9},end:{line:96,column:18}},loc:{start:{line:96,column:30},end:{line:100,column:1}},line:96},"9":{name:"getMain",decl:{start:{line:104,column:9},end:{line:104,column:16}},loc:{start:{line:104,column:28},end:{line:107,column:1}},line:104},"10":{name:"getLogin",decl:{start:{line:111,column:9},end:{line:111,column:17}},loc:{start:{line:111,column:29},end:{line:113,column:1}},line:111},"11":{name:"getRegist",decl:{start:{line:117,column:9},end:{line:117,column:18}},loc:{start:{line:117,column:30},end:{line:119,column:1}},line:117},"12":{name:"getTasksPage",decl:{start:{line:123,column:9},end:{line:123,column:21}},loc:{start:{line:123,column:33},end:{line:129,column:1}},line:123},"13":{name:"(anonymous_13)",decl:{start:{line:135,column:18},end:{line:135,column:19}},loc:{start:{line:135,column:31},end:{line:145,column:1}},line:135},"14":{name:"(anonymous_14)",decl:{start:{line:136,column:23},end:{line:136,column:24}},loc:{start:{line:136,column:50},end:{line:144,column:5}},line:136},"15":{name:"(anonymous_15)",decl:{start:{line:137,column:33},end:{line:137,column:34}},loc:{start:{line:137,column:62},end:{line:143,column:9}},line:137},"16":{name:"(anonymous_16)",decl:{start:{line:138,column:94},end:{line:138,column:95}},loc:{start:{line:138,column:103},end:{line:142,column:13}},line:138},"17":{name:"(anonymous_17)",decl:{start:{line:147,column:14},end:{line:147,column:15}},loc:{start:{line:147,column:37},end:{line:157,column:1}},line:147},"18":{name:"(anonymous_18)",decl:{start:{line:148,column:23},end:{line:148,column:24}},loc:{start:{line:148,column:50},end:{line:156,column:5}},line:148},"19":{name:"(anonymous_19)",decl:{start:{line:149,column:33},end:{line:149,column:34}},loc:{start:{line:149,column:62},end:{line:155,column:9}},line:149},"20":{name:"(anonymous_20)",decl:{start:{line:150,column:105},end:{line:150,column:106}},loc:{start:{line:150,column:114},end:{line:154,column:13}},line:150},"21":{name:"postAdd",decl:{start:{line:159,column:9},end:{line:159,column:16}},loc:{start:{line:159,column:28},end:{line:186,column:1}},line:159},"22":{name:"(anonymous_22)",decl:{start:{line:160,column:29},end:{line:160,column:30}},loc:{start:{line:160,column:52},end:{line:168,column:5}},line:160},"23":{name:"add_to_list",decl:{start:{line:170,column:19},end:{line:170,column:30}},loc:{start:{line:170,column:41},end:{line:174,column:5}},line:170},"24":{name:"find_",decl:{start:{line:176,column:13},end:{line:176,column:18}},loc:{start:{line:176,column:28},end:{line:181,column:5}},line:176},"25":{name:"(anonymous_25)",decl:{start:{line:177,column:33},end:{line:177,column:34}},loc:{start:{line:177,column:56},end:{line:180,column:9}},line:177},"26":{name:"getUsername",decl:{start:{line:190,column:9},end:{line:190,column:20}},loc:{start:{line:190,column:31},end:{line:192,column:1}},line:190},"27":{name:"getTasks",decl:{start:{line:198,column:9},end:{line:198,column:17}},loc:{start:{line:198,column:27},end:{line:222,column:1}},line:198},"28":{name:"(anonymous_28)",decl:{start:{line:203,column:29},end:{line:203,column:30}},loc:{start:{line:203,column:58},end:{line:221,column:5}},line:203},"29":{name:"(anonymous_29)",decl:{start:{line:204,column:75},end:{line:204,column:76}},loc:{start:{line:204,column:104},end:{line:220,column:9}},line:204},"30":{name:"(anonymous_30)",decl:{start:{line:206,column:54},end:{line:206,column:55}},loc:{start:{line:206,column:68},end:{line:214,column:17}},line:206},"31":{name:"(anonymous_31)",decl:{start:{line:216,column:23},end:{line:216,column:24}},loc:{start:{line:216,column:34},end:{line:219,column:13}},line:216},"32":{name:"postDelete",decl:{start:{line:226,column:9},end:{line:226,column:19}},loc:{start:{line:226,column:30},end:{line:233,column:1}},line:226},"33":{name:"(anonymous_33)",decl:{start:{line:228,column:29},end:{line:228,column:30}},loc:{start:{line:228,column:52},end:{line:232,column:5}},line:228},"34":{name:"postDone",decl:{start:{line:237,column:9},end:{line:237,column:17}},loc:{start:{line:237,column:29},end:{line:244,column:1}},line:237},"35":{name:"(anonymous_35)",decl:{start:{line:239,column:29},end:{line:239,column:30}},loc:{start:{line:239,column:58},end:{line:243,column:5}},line:239},"36":{name:"postUndone",decl:{start:{line:248,column:9},end:{line:248,column:19}},loc:{start:{line:248,column:30},end:{line:254,column:1}},line:248},"37":{name:"(anonymous_37)",decl:{start:{line:250,column:29},end:{line:250,column:30}},loc:{start:{line:250,column:58},end:{line:253,column:5}},line:250}},branchMap:{"0":{loc:{start:{line:14,column:11},end:{line:14,column:35}},type:"binary-expr",locations:[{start:{line:14,column:11},end:{line:14,column:27}},{start:{line:14,column:31},end:{line:14,column:35}}],line:14},"1":{loc:{start:{line:15,column:11},end:{line:15,column:34}},type:"binary-expr",locations:[{start:{line:15,column:11},end:{line:15,column:27}},{start:{line:15,column:30},end:{line:15,column:34}}],line:15},"2":{loc:{start:{line:24,column:12},end:{line:24,column:98}},type:"binary-expr",locations:[{start:{line:24,column:12},end:{line:24,column:35}},{start:{line:24,column:39},end:{line:24,column:98}}],line:24},"3":{loc:{start:{line:28,column:32},end:{line:28,column:118}},type:"binary-expr",locations:[{start:{line:28,column:32},end:{line:28,column:55}},{start:{line:28,column:59},end:{line:28,column:118}}],line:28},"4":{loc:{start:{line:41,column:4},end:{line:42,column:21}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:21}},{start:{line:41,column:4},end:{line:42,column:21}}],line:41},"5":{loc:{start:{line:41,column:8},end:{line:41,column:36}},type:"binary-expr",locations:[{start:{line:41,column:9},end:{line:41,column:17}},{start:{line:41,column:21},end:{line:41,column:35}}],line:41},"6":{loc:{start:{line:50,column:12},end:{line:65,column:13}},type:"if",locations:[{start:{line:50,column:12},end:{line:65,column:13}},{start:{line:50,column:12},end:{line:65,column:13}}],line:50},"7":{loc:{start:{line:54,column:17},end:{line:65,column:13}},type:"if",locations:[{start:{line:54,column:17},end:{line:65,column:13}},{start:{line:54,column:17},end:{line:65,column:13}}],line:54},"8":{loc:{start:{line:58,column:17},end:{line:65,column:13}},type:"if",locations:[{start:{line:58,column:17},end:{line:65,column:13}},{start:{line:58,column:17},end:{line:65,column:13}}],line:58},"9":{loc:{start:{line:75,column:12},end:{line:89,column:13}},type:"if",locations:[{start:{line:75,column:12},end:{line:89,column:13}},{start:{line:75,column:12},end:{line:89,column:13}}],line:75},"10":{loc:{start:{line:76,column:16},end:{line:84,column:17}},type:"if",locations:[{start:{line:76,column:16},end:{line:84,column:17}},{start:{line:76,column:16},end:{line:84,column:17}}],line:76},"11":{loc:{start:{line:124,column:4},end:{line:128,column:25}},type:"if",locations:[{start:{line:124,column:4},end:{line:128,column:25}},{start:{line:124,column:4},end:{line:128,column:25}}],line:124},"12":{loc:{start:{line:199,column:4},end:{line:201,column:25}},type:"if",locations:[{start:{line:199,column:4},end:{line:201,column:25}},{start:{line:199,column:4},end:{line:201,column:25}}],line:199}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d35b3591bdc6f7a6e6105462a841e3a18bf6c1b7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_12k9bjpt2s=function(){return actualCoverage;};return actualCoverage;}cov_12k9bjpt2s();const express=(cov_12k9bjpt2s().s[0]++,require('express'));const bodyParser=(cov_12k9bjpt2s().s[1]++,require('body-parser'));const session=(cov_12k9bjpt2s().s[2]++,require('express-session'));const MongoStore=(cov_12k9bjpt2s().s[3]++,require('connect-mongo')(session));const app=(cov_12k9bjpt2s().s[4]++,express());cov_12k9bjpt2s().s[5]++;app.use(bodyParser.urlencoded({extended:false}));cov_12k9bjpt2s().s[6]++;app.use(bodyParser.json());cov_12k9bjpt2s().s[7]++;app.use(express.static(__dirname));const urlencodedParser=(cov_12k9bjpt2s().s[8]++,bodyParser.urlencoded({extended:false}));var helmet=(cov_12k9bjpt2s().s[9]++,require('helmet'));cov_12k9bjpt2s().s[10]++;app.use(helmet());var Crypto=(cov_12k9bjpt2s().s[11]++,require('crypto-js'));var port=(cov_12k9bjpt2s().s[12]++,(cov_12k9bjpt2s().b[0][0]++,process.env.PORT)||(cov_12k9bjpt2s().b[0][1]++,3000));cov_12k9bjpt2s().s[13]++;app.listen((cov_12k9bjpt2s().b[1][0]++,process.env.PORT)||(cov_12k9bjpt2s().b[1][1]++,port),()=>{cov_12k9bjpt2s().f[0]++;cov_12k9bjpt2s().s[14]++;console.log(`Listening on port ${port}`);});cov_12k9bjpt2s().s[15]++;module.exports=app;const mongoClient=(cov_12k9bjpt2s().s[16]++,require("mongodb").MongoClient);//const url = "mongodb://localhost:27017/";
const url=(cov_12k9bjpt2s().s[17]++,(cov_12k9bjpt2s().b[2][0]++,process.env.MONGODB_URI)||(cov_12k9bjpt2s().b[2][1]++,"mongodb://tododo:ToDoDo1st@ds135036.mlab.com:35036/tododo"));cov_12k9bjpt2s().s[18]++;app.use(session({secret:'mylittlesecret',store:new MongoStore({url:(cov_12k9bjpt2s().b[3][0]++,process.env.MONGODB_URI)||(cov_12k9bjpt2s().b[3][1]++,"mongodb://tododo:ToDoDo1st@ds135036.mlab.com:35036/tododo")}),cookie:{path:'/',httpOnly:true,maxAge:60*60*1000},resave:false,saveUninitialized:false}));cov_12k9bjpt2s().s[19]++;check_regex=function(regex,string){cov_12k9bjpt2s().f[1]++;let ch=(cov_12k9bjpt2s().s[20]++,string.match(regex));cov_12k9bjpt2s().s[21]++;if((cov_12k9bjpt2s().b[5][0]++,ch==null)||(cov_12k9bjpt2s().b[5][1]++,ch[0]!==string)){cov_12k9bjpt2s().b[4][0]++;cov_12k9bjpt2s().s[22]++;return false;}else{cov_12k9bjpt2s().b[4][1]++;cov_12k9bjpt2s().s[23]++;return true;}};function postRegist(req,res){cov_12k9bjpt2s().f[2]++;const regex=(cov_12k9bjpt2s().s[24]++,/^(?=.*[0-9])(?=.*[a-zA-Z])[a-zA-Z0-9]{6,16}/);let check=(cov_12k9bjpt2s().s[25]++,check_regex(regex,req.body.password1));cov_12k9bjpt2s().s[26]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[3]++;cov_12k9bjpt2s().s[27]++;client.db("tododo").collection("users").findOne({login:req.body.name},function(err,result){cov_12k9bjpt2s().f[4]++;cov_12k9bjpt2s().s[28]++;if(result){cov_12k9bjpt2s().b[6][0]++;cov_12k9bjpt2s().s[29]++;console.log("Имя пользователя уже используется");cov_12k9bjpt2s().s[30]++;res.redirect('/regist');}else{cov_12k9bjpt2s().b[6][1]++;cov_12k9bjpt2s().s[31]++;if(req.body.password1!=req.body.password2){cov_12k9bjpt2s().b[7][0]++;cov_12k9bjpt2s().s[32]++;console.log("Введенные пароли не совпадают!");cov_12k9bjpt2s().s[33]++;res.redirect('/regist');}else{cov_12k9bjpt2s().b[7][1]++;cov_12k9bjpt2s().s[34]++;if(!check){cov_12k9bjpt2s().b[8][0]++;cov_12k9bjpt2s().s[35]++;console.log("Слабый пароль");cov_12k9bjpt2s().s[36]++;res.redirect('/regist');}else{cov_12k9bjpt2s().b[8][1]++;cov_12k9bjpt2s().s[37]++;client.db("tododo").collection("users").insertOne({login:req.body.name,password:Crypto.SHA256(req.body.password1).toString(),tasks:[]});cov_12k9bjpt2s().s[38]++;res.sendFile(__dirname+'/autho.html');}}}});});};cov_12k9bjpt2s().s[39]++;app.post("/reg",urlencodedParser,postRegist);function postLogin(req,res){cov_12k9bjpt2s().f[5]++;cov_12k9bjpt2s().s[40]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[6]++;cov_12k9bjpt2s().s[41]++;client.db("tododo").collection("users").findOne({login:req.body.login},function(err,result){cov_12k9bjpt2s().f[7]++;cov_12k9bjpt2s().s[42]++;if(result){cov_12k9bjpt2s().b[9][0]++;cov_12k9bjpt2s().s[43]++;if(Crypto.SHA256(req.body.password).toString()===result.password){cov_12k9bjpt2s().b[10][0]++;cov_12k9bjpt2s().s[44]++;req.session.authorized=true;cov_12k9bjpt2s().s[45]++;req.session.username=req.body.login;cov_12k9bjpt2s().s[46]++;res.redirect('/tasks');}else{cov_12k9bjpt2s().b[10][1]++;cov_12k9bjpt2s().s[47]++;console.log('Неверный пароль');cov_12k9bjpt2s().s[48]++;res.redirect(302,'/');}}else{cov_12k9bjpt2s().b[9][1]++;cov_12k9bjpt2s().s[49]++;console.log('Пользователя с таким именем не существует');cov_12k9bjpt2s().s[50]++;res.status(404).redirect('/');}});});};cov_12k9bjpt2s().s[51]++;app.post("/login",urlencodedParser,postLogin);function getLogout(req,res){cov_12k9bjpt2s().f[8]++;cov_12k9bjpt2s().s[52]++;delete req.session.authorized;cov_12k9bjpt2s().s[53]++;delete req.session.username;cov_12k9bjpt2s().s[54]++;res.redirect('/');};cov_12k9bjpt2s().s[55]++;app.get('/logout',getLogout);function getMain(req,res){cov_12k9bjpt2s().f[9]++;cov_12k9bjpt2s().s[56]++;// if (req.session.authorized) {res.sendFile(__dirname + '/main.html')}
res.sendFile(__dirname+'/autho.html');};cov_12k9bjpt2s().s[57]++;app.get('/',getMain);function getLogin(req,res){cov_12k9bjpt2s().f[10]++;cov_12k9bjpt2s().s[58]++;res.sendFile(__dirname+'/autho.html');};cov_12k9bjpt2s().s[59]++;app.get('/login',getLogin);function getRegist(req,res){cov_12k9bjpt2s().f[11]++;cov_12k9bjpt2s().s[60]++;res.sendFile(__dirname+'/regist.html');};cov_12k9bjpt2s().s[61]++;app.get('/regist',getRegist);function getTasksPage(req,res){cov_12k9bjpt2s().f[12]++;cov_12k9bjpt2s().s[62]++;if(req.session.authorized){cov_12k9bjpt2s().b[11][0]++;cov_12k9bjpt2s().s[63]++;res.sendFile(__dirname+'/main.html');}else{cov_12k9bjpt2s().b[11][1]++;cov_12k9bjpt2s().s[64]++;res.redirect('/');}};cov_12k9bjpt2s().s[65]++;app.get('/tasks',getTasksPage);//some functions
cov_12k9bjpt2s().s[66]++;find_task_by_id=function(id){cov_12k9bjpt2s().f[13]++;cov_12k9bjpt2s().s[67]++;return new Promise(function(resolve,reject){cov_12k9bjpt2s().f[14]++;cov_12k9bjpt2s().s[68]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[15]++;cov_12k9bjpt2s().s[69]++;await client.db("tododo").collection("tasks").findOne({"_id":ObjectId(id)}).then(res=>{cov_12k9bjpt2s().f[16]++;cov_12k9bjpt2s().s[70]++;resolve(res);cov_12k9bjpt2s().s[71]++;console.log("and now res is ");cov_12k9bjpt2s().s[72]++;console.log(res);});});});};cov_12k9bjpt2s().s[73]++;get_task_id=function(name,author){cov_12k9bjpt2s().f[17]++;cov_12k9bjpt2s().s[74]++;return new Promise(function(resolve,reject){cov_12k9bjpt2s().f[18]++;cov_12k9bjpt2s().s[75]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[19]++;cov_12k9bjpt2s().s[76]++;await client.db("tododo").collection("tasks").findOne({"name":name,"author":author}).then(res=>{cov_12k9bjpt2s().f[20]++;cov_12k9bjpt2s().s[77]++;console.log("result id is ");cov_12k9bjpt2s().s[78]++;console.log(res._id);cov_12k9bjpt2s().s[79]++;resolve(res._id);});});});};function postAdd(req,res){cov_12k9bjpt2s().f[21]++;cov_12k9bjpt2s().s[80]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[22]++;cov_12k9bjpt2s().s[81]++;client.db("tododo").collection("tasks").insertOne({name:req.body.name,description:req.body.description,deadline:req.body.deadline,author:req.session.username,status:"active"});});async function add_to_list(callback){cov_12k9bjpt2s().f[23]++;cov_12k9bjpt2s().s[82]++;new_id=await get_task_id(req.body.name,req.session.username);cov_12k9bjpt2s().s[83]++;console.log("this function is add_to_list and it returned ",new_id);cov_12k9bjpt2s().s[84]++;callback(new_id);}function find_(some_id){cov_12k9bjpt2s().f[24]++;cov_12k9bjpt2s().s[85]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[25]++;cov_12k9bjpt2s().s[86]++;client.db("tododo").collection("users").findOneAndUpdate({"login":req.session.username},{$addToSet:{tasks:some_id}});});}cov_12k9bjpt2s().s[87]++;add_to_list(find_);cov_12k9bjpt2s().s[88]++;res.redirect('/tasks');};cov_12k9bjpt2s().s[89]++;app.post("/add",urlencodedParser,postAdd);function getUsername(req,res){cov_12k9bjpt2s().f[26]++;cov_12k9bjpt2s().s[90]++;res.send(req.session.username);};cov_12k9bjpt2s().s[91]++;app.get('/getusername',getUsername);cov_12k9bjpt2s().s[92]++;ObjectId=require("mongodb").ObjectID;function getTasks(req,res){cov_12k9bjpt2s().f[27]++;cov_12k9bjpt2s().s[93]++;if(req.session.authorized){cov_12k9bjpt2s().b[12][0]++;cov_12k9bjpt2s().s[94]++;username=req.session.username;}else{cov_12k9bjpt2s().b[12][1]++;cov_12k9bjpt2s().s[95]++;username="ann";}let tsks=(cov_12k9bjpt2s().s[96]++,[]);cov_12k9bjpt2s().s[97]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[28]++;cov_12k9bjpt2s().s[98]++;client.db("tododo").collection("users").findOne({login:username},async function(err,result){cov_12k9bjpt2s().f[29]++;cov_12k9bjpt2s().s[99]++;for(var i=(cov_12k9bjpt2s().s[100]++,0);i<result.tasks.length;++i){cov_12k9bjpt2s().s[101]++;find_task_by_id(result.tasks[i]).then(function(res){cov_12k9bjpt2s().f[30]++;cov_12k9bjpt2s().s[102]++;tsks.push({id:res._id,name:res.name,deadline:res.deadline,description:res.description,status:res.status});});}cov_12k9bjpt2s().s[103]++;setTimeout(function(){cov_12k9bjpt2s().f[31]++;cov_12k9bjpt2s().s[104]++;console.log(JSON.stringify(tsks));cov_12k9bjpt2s().s[105]++;res.status(200).send({data:tsks});},3000);});});};cov_12k9bjpt2s().s[106]++;app.get('/gettasks',getTasks);function postDelete(req,res){cov_12k9bjpt2s().f[32]++;let id=(cov_12k9bjpt2s().s[107]++,req.body.id);cov_12k9bjpt2s().s[108]++;mongoClient.connect(url,function(err,client){cov_12k9bjpt2s().f[33]++;cov_12k9bjpt2s().s[109]++;client.db("tododo").collection("users").findOneAndUpdate({"login":req.session.username},{$pull:{tasks:ObjectId(id)}});cov_12k9bjpt2s().s[110]++;client.db("tododo").collection("tasks").deleteOne({"_id":ObjectId(id)});});};cov_12k9bjpt2s().s[111]++;app.post('/delete',postDelete);function postDone(req,res){cov_12k9bjpt2s().f[34]++;let id=(cov_12k9bjpt2s().s[112]++,req.body.id);cov_12k9bjpt2s().s[113]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[35]++;cov_12k9bjpt2s().s[114]++;await client.db("tododo").collection("tasks").findOneAndUpdate({"_id":ObjectId(id)},{$set:{status:"done"}});cov_12k9bjpt2s().s[115]++;console.log("was done");});};cov_12k9bjpt2s().s[116]++;app.post('/done',postDone);function postUndone(req,res){cov_12k9bjpt2s().f[36]++;let id=(cov_12k9bjpt2s().s[117]++,req.body.id);cov_12k9bjpt2s().s[118]++;mongoClient.connect(url,async function(err,client){cov_12k9bjpt2s().f[37]++;cov_12k9bjpt2s().s[119]++;await client.db("metodbase").collection("mero").findOneAndUpdate({"_id":ObjectId(id)},{$set:{status:"active"}});});};cov_12k9bjpt2s().s[120]++;app.post('/undone',postUndone);cov_12k9bjpt2s().s[121]++;module.exports={postRegist,postLogin,getLogout,getMain,getLogin,getRegist,getTasksPage,find_task_by_id,get_task_id,postAdd,getUsername,getTasks,postDelete,postDone,postUndone};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYm9keVBhcnNlciIsInNlc3Npb24iLCJNb25nb1N0b3JlIiwiYXBwIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsInN0YXRpYyIsIl9fZGlybmFtZSIsInVybGVuY29kZWRQYXJzZXIiLCJoZWxtZXQiLCJDcnlwdG8iLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vbmdvQ2xpZW50IiwiTW9uZ29DbGllbnQiLCJ1cmwiLCJNT05HT0RCX1VSSSIsInNlY3JldCIsInN0b3JlIiwiY29va2llIiwicGF0aCIsImh0dHBPbmx5IiwibWF4QWdlIiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJjaGVja19yZWdleCIsInJlZ2V4Iiwic3RyaW5nIiwiY2giLCJtYXRjaCIsInBvc3RSZWdpc3QiLCJyZXEiLCJyZXMiLCJjaGVjayIsImJvZHkiLCJwYXNzd29yZDEiLCJjb25uZWN0IiwiZXJyIiwiY2xpZW50IiwiZGIiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsImxvZ2luIiwibmFtZSIsInJlc3VsdCIsInJlZGlyZWN0IiwicGFzc3dvcmQyIiwiaW5zZXJ0T25lIiwicGFzc3dvcmQiLCJTSEEyNTYiLCJ0b1N0cmluZyIsInRhc2tzIiwic2VuZEZpbGUiLCJwb3N0IiwicG9zdExvZ2luIiwiYXV0aG9yaXplZCIsInVzZXJuYW1lIiwic3RhdHVzIiwiZ2V0TG9nb3V0IiwiZ2V0IiwiZ2V0TWFpbiIsImdldExvZ2luIiwiZ2V0UmVnaXN0IiwiZ2V0VGFza3NQYWdlIiwiZmluZF90YXNrX2J5X2lkIiwiaWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIk9iamVjdElkIiwidGhlbiIsImdldF90YXNrX2lkIiwiYXV0aG9yIiwiX2lkIiwicG9zdEFkZCIsImRlc2NyaXB0aW9uIiwiZGVhZGxpbmUiLCJhZGRfdG9fbGlzdCIsImNhbGxiYWNrIiwibmV3X2lkIiwiZmluZF8iLCJzb21lX2lkIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRhZGRUb1NldCIsImdldFVzZXJuYW1lIiwic2VuZCIsIk9iamVjdElEIiwiZ2V0VGFza3MiLCJ0c2tzIiwiaSIsImxlbmd0aCIsInB1c2giLCJzZXRUaW1lb3V0IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJwb3N0RGVsZXRlIiwiJHB1bGwiLCJkZWxldGVPbmUiLCJwb3N0RG9uZSIsIiRzZXQiLCJwb3N0VW5kb25lIl0sIm1hcHBpbmdzIjoidzJoQkFBQyxLQUFNQSxDQUFBQSxPQUFPLDBCQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFWLENBQWIsQ0FDRCxLQUFNQyxDQUFBQSxVQUFVLDBCQUFHRCxPQUFPLENBQUMsYUFBRCxDQUFWLENBQWhCLENBQ0EsS0FBTUUsQ0FBQUEsT0FBTywwQkFBR0YsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBYixDQUNBLEtBQU1HLENBQUFBLFVBQVUsMEJBQUdILE9BQU8sQ0FBQyxlQUFELENBQVAsQ0FBeUJFLE9BQXpCLENBQUgsQ0FBaEIsQ0FDQSxLQUFNRSxDQUFBQSxHQUFHLDBCQUFHTCxPQUFPLEVBQVYsQ0FBVCxDLHdCQUNBSyxHQUFHLENBQUNDLEdBQUosQ0FBUUosVUFBVSxDQUFDSyxVQUFYLENBQXNCLENBQUVDLFFBQVEsQ0FBRSxLQUFaLENBQXRCLENBQVIsRSx3QkFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFKLFVBQVUsQ0FBQ08sSUFBWCxFQUFSLEUsd0JBQ0FKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRTixPQUFPLENBQUNVLE1BQVIsQ0FBZUMsU0FBZixDQUFSLEVBQ0EsS0FBTUMsQ0FBQUEsZ0JBQWdCLDBCQUFHVixVQUFVLENBQUNLLFVBQVgsQ0FBc0IsQ0FBQ0MsUUFBUSxDQUFFLEtBQVgsQ0FBdEIsQ0FBSCxDQUF0QixDQUNBLEdBQUlLLENBQUFBLE1BQU0sMEJBQUdaLE9BQU8sQ0FBQyxR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QUFBLFVBQVQsQ0FBb0J0RSxHQUFwQixDQUF5QkMsR0FBekIsQ0FBOEIsMEJBQzFCLEdBQUlpQyxDQUFBQSxFQUFFLDRCQUFHbEMsR0FBRyxDQUFDRyxJQUFKLENBQVMrQixFQUFaLENBQU4sQ0FEMEIsMEJBRTFCcEQsV0FBVyxDQUFDdUIsT0FBWixDQUFvQnJCLEdBQXBCLENBQXlCLGVBQWdCc0IsR0FBaEIsQ0FBcUJDLE1BQXJCLENBQTZCLG9EQUNuRCxLQUFNQSxDQUFBQSxNQUFNLENBQUNDLEVBQVAsQ0FBVSxXQUFWLEVBQXVCQyxVQUF2QixDQUFrQyxNQUFsQyxFQUEwQzBDLGdCQUExQyxDQUNELENBQUMsTUFBT2IsUUFBUSxDQUFDSixFQUFELENBQWhCLENBREMsQ0FDc0IsQ0FBQ21DLElBQUksQ0FBRSxDQUFDM0MsTUFBTSxDQUFFLFFBQVQsQ0FBUCxDQUR0QixDQUFOLENBRUYsQ0FIRCxFQUlILEUsMEJBQ0QvRCxHQUFHLENBQUMyRCxJQUFKLENBQVMsU0FBVCxDQUFvQmdELFVBQXBCLEUsMEJBRUExRixNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBRWtCLFVBQUYsQ0FBY3dCLFNBQWQsQ0FBeUJJLFNBQXpCLENBQW9DRSxPQUFwQyxDQUE2Q0MsUUFBN0MsQ0FBdURDLFNBQXZELENBQWtFQyxZQUFsRSxDQUFnRkMsZUFBaEYsQ0FBaUdPLFdBQWpHLENBQThHRyxPQUE5RyxDQUF1SFUsV0FBdkgsQ0FBb0lHLFFBQXBJLENBQThJUyxVQUE5SSxDQUEwSkcsUUFBMUosQ0FBb0tFLFVBQXBLLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsi77u/Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJylcbmNvbnN0IHNlc3Npb24gPSByZXF1aXJlKCdleHByZXNzLXNlc3Npb24nKVxuY29uc3QgTW9uZ29TdG9yZSA9IHJlcXVpcmUoJ2Nvbm5lY3QtbW9uZ28nKShzZXNzaW9uKTtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUpKVxuY29uc3QgdXJsZW5jb2RlZFBhcnNlciA9IGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IGZhbHNlfSk7XG52YXIgaGVsbWV0ID0gcmVxdWlyZSgnaGVsbWV0Jyk7XG5hcHAudXNlKGhlbG1ldCgpKVxudmFyIENyeXB0byA9IHJlcXVpcmUoJ2NyeXB0by1qcycpXG5cbnZhciBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwO1xuYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUIHx8cG9ydCwgKCkgPT4ge1xuXG4gICAgY29uc29sZS5sb2coYExpc3RlbmluZyBvbiBwb3J0ICR7cG9ydH1gKVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBhcHBcblxuY29uc3QgbW9uZ29DbGllbnQgPSByZXF1aXJlKFwibW9uZ29kYlwiKS5Nb25nb0NsaWVudDtcbi8vY29uc3QgdXJsID0gXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L1wiO1xuY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgXCJtb25nb2RiOi8vdG9kb2RvOlRvRG9EbzFzdEBkczEzNTAzNi5tbGFiLmNvbTozNTAzNi90b2RvZG9cIjtcblxuYXBwLnVzZShzZXNzaW9uKHtcbiAgICBzZWNyZXQ6ICdteWxpdHRsZXNlY3JldCcsXG4gICAgc3RvcmU6IG5ldyBNb25nb1N0b3JlKHt1cmw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8IFwibW9uZ29kYjovL3RvZG9kbzpUb0RvRG8xc3RAZHMxMzUwMzYubWxhYi5jb206MzUwMzYvdG9kb2RvXCJ9KSxcbiAgICBjb29raWU6IHtcbiAgICAgICAgcGF0aDogJy8nLFxuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMTAwMFxuICAgIH0sXG4gICAgcmVzYXZlOiBmYWxzZSxcbiAgICBzYXZlVW5pbml0aWFsaXplZDogZmFsc2Vcbn0pXG4pO1xuXG5jaGVja19yZWdleCA9IGZ1bmN0aW9uIChyZWdleCwgc3RyaW5nKXtcbiAgICBsZXQgY2ggPSBzdHJpbmcubWF0Y2gocmVnZXgpO1xuICAgIGlmICgoY2g9PW51bGwpfHwoY2hbMF0hPT1zdHJpbmcpKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcG9zdFJlZ2lzdCAocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWdleCA9IC9eKD89LipbMC05XSkoPz0uKlthLXpBLVpdKVthLXpBLVowLTldezYsMTZ9LztcbiAgICBsZXQgY2hlY2sgPSBjaGVja19yZWdleChyZWdleCwgcmVxLmJvZHkucGFzc3dvcmQxKVxuICAgIG1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICAgICAgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5maW5kT25lKHtsb2dpbjogcmVxLmJvZHkubmFtZX0sIGZ1bmN0aW9uKGVycixyZXN1bHQpe1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi0JjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRg9C20LUg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPXCIpXG4gICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvcmVnaXN0JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlcS5ib2R5LnBhc3N3b3JkMSAhPSByZXEuYm9keS5wYXNzd29yZDIpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi0JLQstC10LTQtdC90L3Ri9C1INC/0LDRgNC+0LvQuCDQvdC1INGB0L7QstC/0LDQtNCw0Y7RgiFcIilcbiAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy9yZWdpc3QnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWNoZWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLQodC70LDQsdGL0Lkg0L/QsNGA0L7Qu9GMXCIpXG4gICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvcmVnaXN0JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidXNlcnNcIikuaW5zZXJ0T25lKHtsb2dpbjogcmVxLmJvZHkubmFtZSwgcGFzc3dvcmQ6IENyeXB0by5TSEEyNTYocmVxLmJvZHkucGFzc3dvcmQxKS50b1N0cmluZygpLCB0YXNrczogW119KTtcbiAgICAgICAgICAgICAgICByZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9hdXRoby5odG1sJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuYXBwLnBvc3QoXCIvcmVnXCIsIHVybGVuY29kZWRQYXJzZXIsIHBvc3RSZWdpc3QpO1xuXG5cbmZ1bmN0aW9uIHBvc3RMb2dpbiAocmVxLCByZXMpIHtcbiAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgIGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidXNlcnNcIikuZmluZE9uZSh7bG9naW46IHJlcS5ib2R5LmxvZ2lufSwgZnVuY3Rpb24oZXJyLHJlc3VsdCl7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKENyeXB0by5TSEEyNTYocmVxLmJvZHkucGFzc3dvcmQpLnRvU3RyaW5nKCkgPT09IHJlc3VsdC5wYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRob3JpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udXNlcm5hbWUgPSByZXEuYm9keS5sb2dpbjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvdGFza3MnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQndC10LLQtdGA0L3Ri9C5INC/0LDRgNC+0LvRjCcpO1xuICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoMzAyLCAnLycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9Cf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRgSDRgtCw0LrQuNC8INC40LzQtdC90LXQvCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCJyk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnJlZGlyZWN0KCcvJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuYXBwLnBvc3QoXCIvbG9naW5cIiwgdXJsZW5jb2RlZFBhcnNlciwgcG9zdExvZ2luKVxuXG5cbmZ1bmN0aW9uIGdldExvZ291dCAocmVxLCByZXMpIHtcbiAgICBkZWxldGUgcmVxLnNlc3Npb24uYXV0aG9yaXplZDtcbiAgICBkZWxldGUgcmVxLnNlc3Npb24udXNlcm5hbWU7XG4gICAgcmVzLnJlZGlyZWN0KCcvJylcbn07XG5hcHAuZ2V0KCcvbG9nb3V0JywgZ2V0TG9nb3V0KTtcblxuXG5mdW5jdGlvbiBnZXRNYWluIChyZXEsIHJlcykge1xuICAgIC8vIGlmIChyZXEuc2Vzc2lvbi5hdXRob3JpemVkKSB7cmVzLnNlbmRGaWxlKF9fZGlybmFtZSArICcvbWFpbi5odG1sJyl9XG4gICAgcmVzLnNlbmRGaWxlKF9fZGlybmFtZSArICcvYXV0aG8uaHRtbCcpXG59O1xuYXBwLmdldCgnLycsIGdldE1haW4pO1xuXG5cbmZ1bmN0aW9uIGdldExvZ2luIChyZXEsIHJlcykge1xuICAgIHJlcy5zZW5kRmlsZShfX2Rpcm5hbWUgKyAnL2F1dGhvLmh0bWwnKVxufTtcbmFwcC5nZXQoJy9sb2dpbicsIGdldExvZ2luKTtcblxuXG5mdW5jdGlvbiBnZXRSZWdpc3QgKHJlcSwgcmVzKSB7XG4gICAgcmVzLnNlbmRGaWxlKF9fZGlybmFtZSArICcvcmVnaXN0Lmh0bWwnKVxufTtcbmFwcC5nZXQoJy9yZWdpc3QnLCBnZXRSZWdpc3QpXG5cblxuZnVuY3Rpb24gZ2V0VGFza3NQYWdlIChyZXEsIHJlcykge1xuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRob3JpemVkKSB7XG4gICAgICAgIHJlcy5zZW5kRmlsZShfX2Rpcm5hbWUgKyAnL21haW4uaHRtbCcpXG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvJylcbn07XG5hcHAuZ2V0KCcvdGFza3MnLCBnZXRUYXNrc1BhZ2UpXG5cblxuLy9zb21lIGZ1bmN0aW9uc1xuXG5maW5kX3Rhc2tfYnlfaWQgPSBmdW5jdGlvbihpZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBhc3luYyBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidGFza3NcIikuZmluZE9uZSh7XCJfaWRcIjogT2JqZWN0SWQoaWQpfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYW5kIG5vdyByZXMgaXMgXCIpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5nZXRfdGFza19pZCA9IGZ1bmN0aW9uKG5hbWUsIGF1dGhvcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBhc3luYyBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidGFza3NcIikuZmluZE9uZSh7XCJuYW1lXCI6IG5hbWUsIFwiYXV0aG9yXCI6IGF1dGhvcn0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0IGlkIGlzIFwiKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5faWQpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcG9zdEFkZCAocmVxLCByZXMpIHtcbiAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgIGNsaWVudC5kYihcInRvZG9kb1wiKS5jb2xsZWN0aW9uKFwidGFza3NcIikuaW5zZXJ0T25lKHtcbiAgICAgICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBkZWFkbGluZTogcmVxLmJvZHkuZGVhZGxpbmUsXG4gICAgICAgICAgICBhdXRob3I6IHJlcS5zZXNzaW9uLnVzZXJuYW1lLFxuICAgICAgICAgICAgc3RhdHVzOiBcImFjdGl2ZVwiXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBhc3luYyBmdW5jdGlvbiBhZGRfdG9fbGlzdChjYWxsYmFjaykge1xuICAgICAgICBuZXdfaWQgPSBhd2FpdCBnZXRfdGFza19pZChyZXEuYm9keS5uYW1lLCByZXEuc2Vzc2lvbi51c2VybmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBmdW5jdGlvbiBpcyBhZGRfdG9fbGlzdCBhbmQgaXQgcmV0dXJuZWQgXCIsIG5ld19pZClcbiAgICAgICAgY2FsbGJhY2sobmV3X2lkKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRfKHNvbWVfaWQpIHtcbiAgICAgICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICAgICAgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgIHtcImxvZ2luXCI6IHJlcS5zZXNzaW9uLnVzZXJuYW1lfSwgeyRhZGRUb1NldDoge3Rhc2tzOiBzb21lX2lkfX0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZF90b19saXN0KGZpbmRfKVxuXG4gICAgcmVzLnJlZGlyZWN0KCcvdGFza3MnKVxufTtcbmFwcC5wb3N0KFwiL2FkZFwiLCB1cmxlbmNvZGVkUGFyc2VyLCBwb3N0QWRkKTtcblxuXG5mdW5jdGlvbiBnZXRVc2VybmFtZShyZXEsIHJlcykge1xuICAgIHJlcy5zZW5kKHJlcS5zZXNzaW9uLnVzZXJuYW1lKTtcbn07XG5hcHAuZ2V0KCcvZ2V0dXNlcm5hbWUnLCBnZXRVc2VybmFtZSlcblxuXG5PYmplY3RJZCA9IHJlcXVpcmUoXCJtb25nb2RiXCIpLk9iamVjdElEO1xuXG5mdW5jdGlvbiBnZXRUYXNrcyhyZXEsIHJlcyl7XG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGhvcml6ZWQpXG4gICAgICAgIHVzZXJuYW1lID0gcmVxLnNlc3Npb24udXNlcm5hbWVcbiAgICBlbHNlIHVzZXJuYW1lID0gXCJhbm5cIlxuICAgIGxldCB0c2tzID0gW107XG4gICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGFzeW5jIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICBjbGllbnQuZGIoXCJ0b2RvZG9cIikuY29sbGVjdGlvbihcInVzZXJzXCIpLmZpbmRPbmUoe2xvZ2luOiB1c2VybmFtZX0sIGFzeW5jIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQudGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaW5kX3Rhc2tfYnlfaWQocmVzdWx0LnRhc2tzW2ldKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICB0c2tzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lOiByZXMuZGVhZGxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXMuc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0c2tzKSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe2RhdGE6IHRza3N9KVxuICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmFwcC5nZXQoJy9nZXR0YXNrcycsIGdldFRhc2tzKTtcblxuXG5mdW5jdGlvbiBwb3N0RGVsZXRlKHJlcSwgcmVzKSB7XG4gICAgbGV0IGlkID0gcmVxLmJvZHkuaWQ7XG4gICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICBjbGllbnQuZGIoXCJ0b2RvZG9cIikuY29sbGVjdGlvbihcInVzZXJzXCIpLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICB7IFwibG9naW5cIiA6IHJlcS5zZXNzaW9uLnVzZXJuYW1lfSx7JHB1bGw6IHsgdGFza3M6IE9iamVjdElkKGlkKX19KTtcbiAgICAgICAgY2xpZW50LmRiKFwidG9kb2RvXCIpLmNvbGxlY3Rpb24oXCJ0YXNrc1wiKS5kZWxldGVPbmUoe1wiX2lkXCI6IE9iamVjdElkKGlkKX0pO1xuICAgIH0pO1xufTtcbmFwcC5wb3N0KCcvZGVsZXRlJywgcG9zdERlbGV0ZSk7XG5cblxuZnVuY3Rpb24gcG9zdERvbmUgKHJlcSwgcmVzKSB7XG4gICAgbGV0IGlkID0gcmVxLmJvZHkuaWQ7XG4gICAgbW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGFzeW5jIGZ1bmN0aW9uIChlcnIsIGNsaWVudCkge1xuICAgICAgICBhd2FpdCBjbGllbnQuZGIoXCJ0b2RvZG9cIikuY29sbGVjdGlvbihcInRhc2tzXCIpLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICB7XCJfaWRcIjogT2JqZWN0SWQoaWQpfSwgeyRzZXQgOntzdGF0dXM6IFwiZG9uZVwifX0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIndhcyBkb25lXCIpXG4gICAgfSk7XG59O1xuYXBwLnBvc3QoJy9kb25lJywgcG9zdERvbmUpO1xuXG5cbmZ1bmN0aW9uIHBvc3RVbmRvbmUocmVxLCByZXMpIHtcbiAgICBsZXQgaWQgPSByZXEuYm9keS5pZDtcbiAgICBtb25nb0NsaWVudC5jb25uZWN0KHVybCwgYXN5bmMgZnVuY3Rpb24gKGVyciwgY2xpZW50KSB7XG4gICAgICAgYXdhaXQgY2xpZW50LmRiKFwibWV0b2RiYXNlXCIpLmNvbGxlY3Rpb24oXCJtZXJvXCIpLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICB7XCJfaWRcIjogT2JqZWN0SWQoaWQpfSwgeyRzZXQ6IHtzdGF0dXM6IFwiYWN0aXZlXCJ9fSk7XG4gICAgfSk7XG59O1xuYXBwLnBvc3QoJy91bmRvbmUnLCBwb3N0VW5kb25lKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHBvc3RSZWdpc3QsIHBvc3RMb2dpbiwgZ2V0TG9nb3V0LCBnZXRNYWluLCBnZXRMb2dpbiwgZ2V0UmVnaXN0LCBnZXRUYXNrc1BhZ2UsIGZpbmRfdGFza19ieV9pZCwgZ2V0X3Rhc2tfaWQsIHBvc3RBZGQsIGdldFVzZXJuYW1lLCBnZXRUYXNrcywgcG9zdERlbGV0ZSwgcG9zdERvbmUsIHBvc3RVbmRvbmUgfTtcbiJdfQ==